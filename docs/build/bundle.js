var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function s(t,n,e){t.$$.on_destroy.push(a(n,e))}function l(t,n,e,r){if(t){const i=c(t,n,e,r);return t[0](i)}}function c(t,n,e,r){return t[1]&&r?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](r(n))):e.ctx}function u(t,n,e,r){if(t[2]&&r){const i=t[2](r(e));if(void 0===n.dirty)return i;if("object"==typeof i){const t=[],e=Math.max(n.dirty.length,i.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|i[r];return t}return n.dirty|i}return n.dirty}function h(t,n,e,r,i,o){if(i){const a=c(n,e,r,o);t.p(a,i)}}function f(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}function d(t){return null==t?"":t}function g(t,n){t.appendChild(n)}function m(t,n,e){t.insertBefore(n,e||null)}function p(t){t.parentNode.removeChild(t)}function y(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function v(t){return document.createElement(t)}function x(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function w(){return b(" ")}function _(){return b("")}function M(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function A(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}let C,N;function k(){if(void 0===C){C=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){C=!0}}return C}function S(t,n){"static"===getComputedStyle(t).position&&(t.style.position="relative");const e=v("iframe");e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),e.setAttribute("aria-hidden","true"),e.tabIndex=-1;const r=k();let i;return r?(e.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=M(window,"message",(t=>{t.source===e.contentWindow&&n()}))):(e.src="about:blank",e.onload=()=>{i=M(e.contentWindow,"resize",n)}),g(t,e),()=>{(r||i&&e.contentWindow)&&i(),p(e)}}function P(t,n,e){t.classList[e?"add":"remove"](n)}function R(t){N=t}function z(){if(!N)throw new Error("Function called outside component initialization");return N}function D(t){return z().$$.context.get(t)}const T=[],E=[],H=[],F=[],I=Promise.resolve();let L=!1;function O(t){H.push(t)}let W=!1;const B=new Set;function q(){if(!W){W=!0;do{for(let t=0;t<T.length;t+=1){const n=T[t];R(n),j(n.$$)}for(R(null),T.length=0;E.length;)E.pop()();for(let t=0;t<H.length;t+=1){const n=H[t];B.has(n)||(B.add(n),n())}H.length=0}while(T.length);for(;F.length;)F.pop()();L=!1,W=!1,B.clear()}}function j(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(O)}}const G=new Set;let U;function Y(){U={r:0,c:[],p:U}}function V(){U.r||r(U.c),U=U.p}function X(t,n){t&&t.i&&(G.delete(t),t.i(n))}function J(t,n,e,r){if(t&&t.o){if(G.has(t))return;G.add(t),U.c.push((()=>{G.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function K(t){t&&t.c()}function Z(t,e,o,a){const{fragment:s,on_mount:l,on_destroy:c,after_update:u}=t.$$;s&&s.m(e,o),a||O((()=>{const e=l.map(n).filter(i);c?c.push(...e):r(e),t.$$.on_mount=[]})),u.forEach(O)}function Q(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function tt(t,n){-1===t.$$.dirty[0]&&(T.push(t),L||(L=!0,I.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function nt(n,i,o,a,s,l,c,u=[-1]){const h=N;R(n);const f=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:i.context||[]),callbacks:e(),dirty:u,skip_bound:!1,root:i.target||h.$$.root};c&&c(f.root);let d=!1;if(f.ctx=o?o(n,i.props||{},((t,e,...r)=>{const i=r.length?r[0]:e;return f.ctx&&s(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),d&&tt(n,t)),e})):[],f.update(),d=!0,r(f.before_update),f.fragment=!!a&&a(f.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);f.fragment&&f.fragment.l(t),t.forEach(p)}else f.fragment&&f.fragment.c();i.intro&&X(n.$$.fragment),Z(n,i.target,i.anchor,i.customElement),q()}R(h)}class et{$destroy(){Q(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const rt=[];function it(n,e=t){let r;const i=new Set;function a(t){if(o(n,t)&&(n=t,r)){const t=!rt.length;for(const t of i)t[1](),rt.push(t,n);if(t){for(let t=0;t<rt.length;t+=2)rt[t][0](rt[t+1]);rt.length=0}}}return{set:a,update:function(t){a(t(n))},subscribe:function(o,s=t){const l=[o,s];return i.add(l),1===i.size&&(r=e(a)||t),o(n),()=>{i.delete(l),0===i.size&&(r(),r=null)}}}}function ot(n,e,o){const s=!Array.isArray(n),l=s?[n]:n,c=e.length<2;return{subscribe:it(o,(n=>{let o=!1;const u=[];let h=0,f=t;const d=()=>{if(h)return;f();const r=e(s?u[0]:u,n);c?n(r):f=i(r)?r:t},g=l.map(((t,n)=>a(t,(t=>{u[n]=t,h&=~(1<<n),o&&d()}),(()=>{h|=1<<n}))));return o=!0,d(),function(){r(g),f()}})).subscribe}}function at(t){return 0===(n=t)||n?Array.isArray(t)?n=>t.map((t=>"function"!=typeof t?n[t]:t(n))):"function"!=typeof t?n=>n[t]:t:null;var n}function st(t,n={}){return function(t){const n={};for(const e of t){if(Object(e)!==e)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=e;Object.defineProperty(n,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return n}(Object.entries(t).filter((([t,e])=>void 0!==e&&void 0===n[t])))}function lt(t,n){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(n)||null==n)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const e={},r=Object.keys(n),i=r.length;let o,a,s,l,c,u,h,f;const d=t.length;for(o=0;o<i;o+=1){for(l=r[o],h=n[l],c=null,u=null,a=0;a<d;a+=1)if(f=h(t[a]),Array.isArray(f)){const t=f.length;for(s=0;s<t;s+=1)void 0!==f[s]&&null!==f[s]&&!1===Number.isNaN(f[s])&&((null===c||f[s]<c)&&(c=f[s]),(null===u||f[s]>u)&&(u=f[s]))}else null!=f&&!1===Number.isNaN(f)&&((null===c||f<c)&&(c=f),(null===u||f>u)&&(u=f));e[l]=[c,u]}return e}function ct(t=[],n){return!0===Array.isArray(n)?n.map(((n,e)=>null===n?t[e]:n)):t}function ut(t){return function([n,e]){return n?ct(n[t],e):e}}function ht(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ft(t){let n=t,e=t;function r(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}return 1===t.length&&(n=(n,e)=>t(n)-e,e=function(t){return(n,e)=>ht(t(n),e)}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,e,i,o-1);return a>i&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}const dt=ft(ht).right;ft((function(t){return null===t?NaN:+t})).center;var gt=dt,mt=Math.sqrt(50),pt=Math.sqrt(10),yt=Math.sqrt(2);function vt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=mt?10:o>=pt?5:o>=yt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=mt?10:o>=pt?5:o>=yt?2:1)}function xt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function bt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function wt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function _t(){}var Mt=.7,$t=1/Mt,At="\\s*([+-]?\\d+)\\s*",Ct="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kt=/^#([0-9a-f]{3,8})$/,St=new RegExp("^rgb\\("+[At,At,At]+"\\)$"),Pt=new RegExp("^rgb\\("+[Nt,Nt,Nt]+"\\)$"),Rt=new RegExp("^rgba\\("+[At,At,At,Ct]+"\\)$"),zt=new RegExp("^rgba\\("+[Nt,Nt,Nt,Ct]+"\\)$"),Dt=new RegExp("^hsl\\("+[Ct,Nt,Nt]+"\\)$"),Tt=new RegExp("^hsla\\("+[Ct,Nt,Nt,Ct]+"\\)$"),Et={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ht(){return this.rgb().formatHex()}function Ft(){return this.rgb().formatRgb()}function It(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=kt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Lt(n):3===e?new qt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Ot(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Ot(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=St.exec(t))?new qt(n[1],n[2],n[3],1):(n=Pt.exec(t))?new qt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Rt.exec(t))?Ot(n[1],n[2],n[3],n[4]):(n=zt.exec(t))?Ot(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Dt.exec(t))?Yt(n[1],n[2]/100,n[3]/100,1):(n=Tt.exec(t))?Yt(n[1],n[2]/100,n[3]/100,n[4]):Et.hasOwnProperty(t)?Lt(Et[t]):"transparent"===t?new qt(NaN,NaN,NaN,0):null}function Lt(t){return new qt(t>>16&255,t>>8&255,255&t,1)}function Ot(t,n,e,r){return r<=0&&(t=n=e=NaN),new qt(t,n,e,r)}function Wt(t){return t instanceof _t||(t=It(t)),t?new qt((t=t.rgb()).r,t.g,t.b,t.opacity):new qt}function Bt(t,n,e,r){return 1===arguments.length?Wt(t):new qt(t,n,e,null==r?1:r)}function qt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function jt(){return"#"+Ut(this.r)+Ut(this.g)+Ut(this.b)}function Gt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ut(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Yt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Xt(t,n,e,r)}function Vt(t){if(t instanceof Xt)return new Xt(t.h,t.s,t.l,t.opacity);if(t instanceof _t||(t=It(t)),!t)return new Xt;if(t instanceof Xt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=n===o?(e-r)/s+6*(e<r):e===o?(r-n)/s+2:(n-e)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Xt(a,s,l,t.opacity)}function Xt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Jt(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}bt(_t,It,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ht,formatHex:Ht,formatHsl:function(){return Vt(this).formatHsl()},formatRgb:Ft,toString:Ft}),bt(qt,Bt,wt(_t,{brighter:function(t){return t=null==t?$t:Math.pow($t,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Mt:Math.pow(Mt,t),new qt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jt,formatHex:jt,formatRgb:Gt,toString:Gt})),bt(Xt,(function(t,n,e,r){return 1===arguments.length?Vt(t):new Xt(t,n,e,null==r?1:r)}),wt(_t,{brighter:function(t){return t=null==t?$t:Math.pow($t,t),new Xt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Mt:Math.pow(Mt,t),new Xt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new qt(Jt(t>=240?t-240:t+120,i,r),Jt(t,i,r),Jt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Kt=t=>()=>t;function Zt(t){return 1==(t=+t)?Qt:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Kt(isNaN(n)?e:n)}}function Qt(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Kt(isNaN(t)?n:t)}var tn=function t(n){var e=Zt(n);function r(t,n){var r=e((t=Bt(t)).r,(n=Bt(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=Qt(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function nn(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function en(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=un(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function rn(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function on(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function an(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=un(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var sn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ln=new RegExp(sn.source,"g");function cn(t,n){var e,r,i,o=sn.lastIndex=ln.lastIndex=0,a=-1,s=[],l=[];for(t+="",n+="";(e=sn.exec(t))&&(r=ln.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:on(e,r)})),o=ln.lastIndex;return o<n.length&&(i=n.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)s[(e=l[r]).i]=e.x(t);return s.join("")})}function un(t,n){var e,r=typeof n;return null==n||"boolean"===r?Kt(n):("number"===r?on:"string"===r?(e=It(n))?(n=e,tn):cn:n instanceof It?tn:n instanceof Date?rn:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?nn:Array.isArray(n)?en:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?an:on)(t,n)}function hn(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function fn(t){return+t}var dn=[0,1];function gn(t){return t}function mn(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function pn(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=mn(i,r),o=e(a,o)):(r=mn(r,i),o=e(o,a)),function(t){return o(r(t))}}function yn(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=mn(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=gt(t,n,1,r)-1;return o[e](i[e](n))}}function vn(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xn(){var t,n,e,r,i,o,a=dn,s=dn,l=un,c=gn;function u(){var t=Math.min(a.length,s.length);return c!==gn&&(c=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?yn:pn,i=o=null,h}function h(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),s,l)))(t(c(n)))}return h.invert=function(e){return c(n((o||(o=r(s,a.map(t),on)))(e)))},h.domain=function(t){return arguments.length?(a=Array.from(t,fn),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=hn,u()},h.clamp=function(t){return arguments.length?(c=!!t||gn,u()):c!==gn},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,u()}}function bn(){return xn()(gn,gn)}function wn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function _n(t){return(t=wn(Math.abs(t)))?t[1]:NaN}var Mn,$n=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function An(t){if(!(n=$n.exec(t)))throw new Error("invalid format: "+t);var n;return new Cn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Cn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Nn(t,n){var e=wn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}An.prototype=Cn.prototype,Cn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var kn={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Nn(100*t,n),r:Nn,s:function(t,n){var e=wn(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Mn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+wn(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Sn(t){return t}var Pn,Rn,zn,Dn=Array.prototype.map,Tn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function En(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Sn:(n=Dn.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=n[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Sn:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Dn.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=An(t)).fill,e=t.align,h=t.sign,f=t.symbol,d=t.zero,g=t.width,m=t.comma,p=t.precision,y=t.trim,v=t.type;"n"===v?(m=!0,v="g"):kn[v]||(void 0===p&&(p=12),y=!0,v="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var x="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===f?o:/[%p]/.test(v)?l:"",w=kn[v],_=/[defgprs%]/.test(v);function M(t){var i,o,l,f=x,M=b;if("c"===v)M=w(t)+M,t="";else{var $=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),p),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),$&&0==+t&&"+"!==h&&($=!1),f=($?"("===h?h:c:"-"===h||"("===h?"":h)+f,M=("s"===v?Tn[8+Mn/3]:"")+M+($&&"("===h?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}m&&!d&&(t=r(t,1/0));var A=f.length+t.length+M.length,C=A<g?new Array(g-A+1).join(n):"";switch(m&&d&&(t=r(C+t,C.length?g-M.length:1/0),C=""),e){case"<":t=f+t+M+C;break;case"=":t=f+C+t+M;break;case"^":t=C.slice(0,A=C.length>>1)+f+t+M+C.slice(A);break;default:t=C+f+t+M}return s(t)}return p=void 0===p?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,n){var e=h(((t=An(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(_n(n)/3))),i=Math.pow(10,-r),o=Tn[8+r/3];return function(t){return e(i*t)+o}}}}function Hn(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=mt?i*=10:o>=pt?i*=5:o>=yt&&(i*=2),n<t?-i:i}(t,n,e);switch((r=An(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(_n(n)/3)))-_n(Math.abs(t)))}(o,a))||(r.precision=i),zn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,_n(n)-_n(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-_n(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Rn(r)}function Fn(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,s=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=vt(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);for(e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);++s<i;)o[s]=(e+s)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);for(e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);++s<i;)o[s]=(e+s)/a}return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Hn(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=vt(l,c,e))===r)return o[a]=l,o[s]=c,n(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function In(){var t=bn();return t.copy=function(){return vn(t,In())},xt.apply(t,arguments),Fn(t)}function Ln(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function On(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wn(t){return t<0?-t*t:t*t}function Bn(t){var n=t(gn,gn),e=1;function r(){return 1===e?t(gn,gn):.5===e?t(On,Wn):t(Ln(e),Ln(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},Fn(n)}function qn(){var t=Bn(xn());return t.copy=function(){return vn(t,qn()).exponent(t.exponent())},xt.apply(t,arguments),t}Pn=En({thousands:",",grouping:[3],currency:["$",""]}),Rn=Pn.format,zn=Pn.formatPrefix;var jn={x:In,y:In,z:In,r:function(){return qn.apply(null,arguments).exponent(.5)}};function Gn(t){return t}function Un(t){return n=>Math.log(t*n)}function Yn(t){return n=>t*Math.exp(n)}function Vn(t){return n=>Math.sign(n)*Math.log1p(Math.abs(n/t))}function Xn(t){return n=>Math.sign(n)*Math.expm1(Math.abs(n))*t}function Jn(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Kn(t,n){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(n))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:e,ground:r}=function(t){const n=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===n){const e=Math.sign(t.domain()[0]);return{lift:Un(e),ground:Yn(e),scaleType:n}}if("pow"===n){const t=1;return{lift:Jn(t),ground:Jn(1/t),scaleType:n}}if("sqrt"===n){const t=.5;return{lift:Jn(t),ground:Jn(1/t),scaleType:n}}if("symlog"===n){const t=1;return{lift:Vn(t),ground:Xn(t),scaleType:n}}return{lift:Gn,ground:Gn,scaleType:n}}(t),i=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,s]=t.domain().map((t=>e(o?t.getTime():t))),[l,c]=t.range(),u=n[0]||0,h=n[1]||0,f=(s-a)/(Math.abs(c-l)-u-h);return[a-u*f,h*f+s].map((t=>r(o?new Date(t):t)))}function Zn(t){return function([n,e,r,i,o,a,s,l,c,u]){if(null===e)return null;const h=function(t,n,e,r,i,o){return i?"function"==typeof i?i({width:n,height:e}):i:function(t,n,e,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===t?1:0,a="y"===t?e:"r"===t?25:n),!0===r?[a,o]:[o,a]}(t,n,e,r,o)}(t,s,l,a,c,u),f=n===jn[t]?n():n.copy();return f.domain(ct(e[t],r)).range(h),i&&f.domain(Kn(f,i)),!0===o&&("function"==typeof f.nice?f.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),f}}function Qn([t,n]){return e=>{const r=t(e);return Array.isArray(r)?r.map((t=>n(t))):n(r)}}function te([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var ne={x:!1,y:!0,z:!1,r:!1};const ee=t=>({element:4&t[0],width:64&t[0],height:128&t[0],aspectRatio:256&t[0],containerWidth:512&t[0],containerHeight:1024&t[0]}),re=t=>({element:t[2],width:t[6],height:t[7],aspectRatio:t[8],containerWidth:t[9],containerHeight:t[10]});function ie(t){let n,e,r,i;const o=t[54].default,a=l(o,t,t[53],re);return{c(){n=v("div"),a&&a.c(),$(n,"class","layercake-container svelte-vhzpsp"),$(n,"style",e="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")),O((()=>t[56].call(n)))},m(e,o){m(e,n,o),a&&a.m(n,null),t[55](n),r=S(n,t[56].bind(n)),i=!0},p(t,r){a&&a.p&&(!i||1988&r[0]|4194304&r[1])&&h(a,o,t,t[53],i?u(o,t[53],r,ee):f(t[53]),re),(!i||48&r[0]&&e!==(e="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")))&&$(n,"style",e)},i(t){i||(X(a,t),i=!0)},o(t){J(a,t),i=!1},d(e){e&&p(n),a&&a.d(e),t[55](null),r()}}}function oe(t){let n,e,r=(!0===t[3]||"undefined"!=typeof window)&&ie(t);return{c(){r&&r.c(),n=_()},m(t,i){r&&r.m(t,i),m(t,n,i),e=!0},p(t,e){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,e),8&e[0]&&X(r,1)):(r=ie(t),r.c(),X(r,1),r.m(n.parentNode,n)):r&&(Y(),J(r,1,1,(()=>{r=null})),V())},i(t){e||(X(r),e=!0)},o(t){J(r),e=!1},d(t){r&&r.d(t),t&&p(n)}}}function ae(t,n,e){let r,i,o,a,l,c,{$$slots:u={},$$scope:h}=n,{ssr:f=!1}=n,{pointerEvents:d=!0}=n,{position:g="relative"}=n,{percentRange:m=!1}=n,{width:p}=n,{height:y}=n,{containerWidth:v=p||100}=n,{containerHeight:x=y||100}=n,{element:b}=n,{x:w}=n,{y:_}=n,{z:M}=n,{r:$}=n,{custom:A={}}=n,{data:C=[]}=n,{xDomain:N}=n,{yDomain:k}=n,{zDomain:S}=n,{rDomain:P}=n,{xNice:R=!1}=n,{yNice:D=!1}=n,{zNice:T=!1}=n,{rNice:H=!1}=n,{xReverse:F=ne.x}=n,{yReverse:I=ne.y}=n,{zReverse:L=ne.z}=n,{rReverse:O=ne.r}=n,{xPadding:W}=n,{yPadding:B}=n,{zPadding:q}=n,{rPadding:j}=n,{xScale:G=jn.x}=n,{yScale:U=jn.y}=n,{zScale:Y=jn.y}=n,{rScale:V=jn.r}=n,{xRange:X}=n,{yRange:J}=n,{zRange:K}=n,{rRange:Z}=n,{padding:Q={}}=n,{extents:tt={}}=n,{flatData:nt}=n;const et={},rt=it(),ct=it();s(t,ct,(t=>e(9,l=t)));const ht=it();s(t,ht,(t=>e(10,c=t)));const ft=it(),dt=it(),gt=it(),mt=it(),pt=it(),yt=it(),vt=it(),xt=it(),bt=it(),wt=it(),_t=it(),Mt=it(),$t=it(),At=it(),Ct=it(),Nt=it(),kt=it(),St=it(),Pt=it(),Rt=it(),zt=it(),Dt=it(),Tt=it(),Et=it(),Ht=it(),Ft=it(),It=it(),Lt=it(),Ot=it(),Wt=it(),Bt=it(),qt=it(),jt=it(),Gt=it(et),Ut=ot([ft,dt,gt,mt],(([t,n,e,r])=>{const i={};return t&&(i.x=t),n&&(i.y=n),e&&(i.z=e),r&&(i.r=r),i})),Yt=ot([Bt,ct,ht],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Vt=ot([ct,ht,Yt],(([t,n,e])=>{const r={};return r.top=e.top,r.right=t-e.right,r.bottom=n-e.bottom,r.left=e.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Xt=ot([Vt],(([t])=>t.width));s(t,Xt,(t=>e(6,i=t)));const Jt=ot([Vt],(([t])=>t.height));s(t,Jt,(t=>e(7,o=t)));const Kt=ot([qt,Ut,jt],(([t,n,e])=>({...lt(t,st(n,e)),...e}))),Zt=ot([Kt,vt],ut("x")),Qt=ot([Kt,xt],ut("y")),tn=ot([Kt,bt],ut("z")),nn=ot([Kt,wt],ut("r")),en=ot([Tt,Kt,Zt,Pt,_t,Ct,Xt,Jt,It,rt],Zn("x")),rn=ot([ft,en],Qn),on=ot([Et,Kt,Qt,Rt,Mt,Nt,Xt,Jt,Lt,rt],Zn("y")),an=ot([dt,on],Qn),sn=ot([Ht,Kt,tn,zt,$t,kt,Xt,Jt,Ot,rt],Zn("z")),ln=ot([gt,sn],Qn),cn=ot([Ft,Kt,nn,Dt,At,St,Xt,Jt,Wt,rt],Zn("r")),un=ot([mt,cn],Qn),hn=ot([en],te),fn=ot([on],te),dn=ot([sn],te),gn=ot([cn],te),mn=ot([Xt,Jt],(([t,n,e])=>n/e));return s(t,mn,(t=>e(8,a=t))),t.$$set=t=>{"ssr"in t&&e(3,f=t.ssr),"pointerEvents"in t&&e(4,d=t.pointerEvents),"position"in t&&e(5,g=t.position),"percentRange"in t&&e(16,m=t.percentRange),"width"in t&&e(17,p=t.width),"height"in t&&e(18,y=t.height),"containerWidth"in t&&e(0,v=t.containerWidth),"containerHeight"in t&&e(1,x=t.containerHeight),"element"in t&&e(2,b=t.element),"x"in t&&e(19,w=t.x),"y"in t&&e(20,_=t.y),"z"in t&&e(21,M=t.z),"r"in t&&e(22,$=t.r),"custom"in t&&e(23,A=t.custom),"data"in t&&e(24,C=t.data),"xDomain"in t&&e(25,N=t.xDomain),"yDomain"in t&&e(26,k=t.yDomain),"zDomain"in t&&e(27,S=t.zDomain),"rDomain"in t&&e(28,P=t.rDomain),"xNice"in t&&e(29,R=t.xNice),"yNice"in t&&e(30,D=t.yNice),"zNice"in t&&e(31,T=t.zNice),"rNice"in t&&e(32,H=t.rNice),"xReverse"in t&&e(33,F=t.xReverse),"yReverse"in t&&e(34,I=t.yReverse),"zReverse"in t&&e(35,L=t.zReverse),"rReverse"in t&&e(36,O=t.rReverse),"xPadding"in t&&e(37,W=t.xPadding),"yPadding"in t&&e(38,B=t.yPadding),"zPadding"in t&&e(39,q=t.zPadding),"rPadding"in t&&e(40,j=t.rPadding),"xScale"in t&&e(41,G=t.xScale),"yScale"in t&&e(42,U=t.yScale),"zScale"in t&&e(43,Y=t.zScale),"rScale"in t&&e(44,V=t.rScale),"xRange"in t&&e(45,X=t.xRange),"yRange"in t&&e(46,J=t.yRange),"zRange"in t&&e(47,K=t.zRange),"rRange"in t&&e(48,Z=t.rRange),"padding"in t&&e(49,Q=t.padding),"extents"in t&&e(50,tt=t.extents),"flatData"in t&&e(51,nt=t.flatData),"$$scope"in t&&e(53,h=t.$$scope)},t.$$.update=()=>{524288&t.$$.dirty[0]&&w&&(et.x=w),1048576&t.$$.dirty[0]&&_&&(et.y=_),2097152&t.$$.dirty[0]&&M&&(et.z=M),4194304&t.$$.dirty[0]&&$&&(et.r=$),33554432&t.$$.dirty[0]&&N&&(et.xDomain=N),67108864&t.$$.dirty[0]&&k&&(et.yDomain=k),134217728&t.$$.dirty[0]&&S&&(et.zDomain=S),268435456&t.$$.dirty[0]&&P&&(et.rDomain=P),16384&t.$$.dirty[1]&&X&&(et.xRange=X),32768&t.$$.dirty[1]&&J&&(et.yRange=J),65536&t.$$.dirty[1]&&K&&(et.zRange=K),131072&t.$$.dirty[1]&&Z&&(et.rRange=Z),65536&t.$$.dirty[0]&&rt.set(m),1&t.$$.dirty[0]&&ct.set(v),2&t.$$.dirty[0]&&ht.set(x),524288&t.$$.dirty[0]&&ft.set(at(w)),1048576&t.$$.dirty[0]&&dt.set(at(_)),2097152&t.$$.dirty[0]&&gt.set(at(M)),4194304&t.$$.dirty[0]&&mt.set(at($)),33554432&t.$$.dirty[0]&&vt.set(N),67108864&t.$$.dirty[0]&&xt.set(k),134217728&t.$$.dirty[0]&&bt.set(S),268435456&t.$$.dirty[0]&&wt.set(P),8388608&t.$$.dirty[0]&&pt.set(A),16777216&t.$$.dirty[0]&&yt.set(C),536870912&t.$$.dirty[0]&&_t.set(R),1073741824&t.$$.dirty[0]&&Mt.set(D),1&t.$$.dirty[1]&&$t.set(T),2&t.$$.dirty[1]&&At.set(H),4&t.$$.dirty[1]&&Ct.set(F),8&t.$$.dirty[1]&&Nt.set(I),16&t.$$.dirty[1]&&kt.set(L),32&t.$$.dirty[1]&&St.set(O),64&t.$$.dirty[1]&&Pt.set(W),128&t.$$.dirty[1]&&Rt.set(B),256&t.$$.dirty[1]&&zt.set(q),512&t.$$.dirty[1]&&Dt.set(j),1024&t.$$.dirty[1]&&Tt.set(G),2048&t.$$.dirty[1]&&Et.set(U),4096&t.$$.dirty[1]&&Ht.set(Y),8192&t.$$.dirty[1]&&Ft.set(V),16384&t.$$.dirty[1]&&It.set(X),32768&t.$$.dirty[1]&&Lt.set(J),65536&t.$$.dirty[1]&&Ot.set(K),131072&t.$$.dirty[1]&&Wt.set(Z),262144&t.$$.dirty[1]&&Bt.set(Q),524288&t.$$.dirty[1]&&jt.set(st(tt)),16777216&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&qt.set(nt||C),2097152&t.$$.dirty[1]&&function(t,n){z().$$.context.set(t,n)}("LayerCake",r)},e(52,r={activeGetters:Ut,width:Xt,height:Jt,percentRange:rt,aspectRatio:mn,containerWidth:ct,containerHeight:ht,x:ft,y:dt,z:gt,r:mt,custom:pt,data:yt,xNice:_t,yNice:Mt,zNice:$t,rNice:At,xReverse:Ct,yReverse:Nt,zReverse:kt,rReverse:St,xPadding:Pt,yPadding:Rt,zPadding:zt,rPadding:Dt,padding:Yt,flatData:qt,extents:Kt,xDomain:Zt,yDomain:Qt,zDomain:tn,rDomain:nn,xRange:hn,yRange:fn,zRange:dn,rRange:gn,config:Gt,xScale:en,xGet:rn,yScale:on,yGet:an,zScale:sn,zGet:ln,rScale:cn,rGet:un}),[v,x,b,f,d,g,i,o,a,l,c,ct,ht,Xt,Jt,mn,m,p,y,w,_,M,$,A,C,N,k,S,P,R,D,T,H,F,I,L,O,W,B,q,j,G,U,Y,V,X,J,K,Z,Q,tt,nt,r,h,u,function(t){E[t?"unshift":"push"]((()=>{b=t,e(2,b)}))},function(){v=this.clientWidth,x=this.clientHeight,e(0,v),e(1,x)}]}class se extends et{constructor(t){super(),nt(this,t,ae,oe,o,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},null,[-1,-1,-1,-1])}}const le=t=>({element:1&t}),ce=t=>({element:t[0]}),ue=t=>({element:1&t}),he=t=>({element:t[0]});function fe(t){let n,e,r,i,o,a;const s=t[13].defs,c=l(s,t,t[12],he),d=t[13].default,y=l(d,t,t[12],ce);return{c(){n=x("svg"),e=x("defs"),c&&c.c(),r=x("g"),y&&y.c(),$(r,"class","layercake-layout-svg_g"),$(r,"transform",i="translate("+t[6].left+", "+t[6].top+")"),$(n,"class","layercake-layout-svg svelte-u84d8d"),$(n,"viewBox",t[1]),$(n,"width",t[4]),$(n,"height",t[5]),$(n,"style",o=""+(t[2]+t[3]))},m(i,o){m(i,n,o),g(n,e),c&&c.m(e,null),g(n,r),y&&y.m(r,null),t[14](n),a=!0},p(t,[e]){c&&c.p&&(!a||4097&e)&&h(c,s,t,t[12],a?u(s,t[12],e,ue):f(t[12]),he),y&&y.p&&(!a||4097&e)&&h(y,d,t,t[12],a?u(d,t[12],e,le):f(t[12]),ce),(!a||64&e&&i!==(i="translate("+t[6].left+", "+t[6].top+")"))&&$(r,"transform",i),(!a||2&e)&&$(n,"viewBox",t[1]),(!a||16&e)&&$(n,"width",t[4]),(!a||32&e)&&$(n,"height",t[5]),(!a||12&e&&o!==(o=""+(t[2]+t[3])))&&$(n,"style",o)},i(t){a||(X(c,t),X(y,t),a=!0)},o(t){J(c,t),J(y,t),a=!1},d(e){e&&p(n),c&&c.d(e),y&&y.d(e),t[14](null)}}}function de(t,n,e){let r,i,o,{$$slots:a={},$$scope:l}=n,{element:c}=n,{viewBox:u}=n,{zIndex:h}=n,{pointerEvents:f}=n,d="",g="";const{containerWidth:m,containerHeight:p,padding:y}=D("LayerCake");return s(t,m,(t=>e(4,r=t))),s(t,p,(t=>e(5,i=t))),s(t,y,(t=>e(6,o=t))),t.$$set=t=>{"element"in t&&e(0,c=t.element),"viewBox"in t&&e(1,u=t.viewBox),"zIndex"in t&&e(10,h=t.zIndex),"pointerEvents"in t&&e(11,f=t.pointerEvents),"$$scope"in t&&e(12,l=t.$$scope)},t.$$.update=()=>{1024&t.$$.dirty&&e(2,d=void 0!==h?`z-index:${h};`:""),2048&t.$$.dirty&&e(3,g=!1===f?"pointer-events:none;":"")},[c,u,d,g,r,i,o,m,p,y,h,f,l,a,function(t){E[t?"unshift":"push"]((()=>{c=t,e(0,c)}))}]}class ge extends et{constructor(t){super(),nt(this,t,de,fe,o,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}var me=[{2021:2726927418,2022:2764748188,organization_group:"Community Health",department:"DPH Public Health",change:.0138693717149753},{2021:10236316,2022:10598289,organization_group:"Culture & Recreation",department:"AAM Asian Art Museum",change:.0353616476865309},{2021:20258030,2022:48609476,organization_group:"Culture & Recreation",department:"ART Arts Commission",change:1.39951643866654},{2021:18291103,2022:20806756,organization_group:"Culture & Recreation",department:"FAM Fine Arts Museum",change:.137534242740856},{2021:151627418,2022:171146593,organization_group:"Culture & Recreation",department:"LIB Public Library",change:.128731170506379},{2021:1937106,2022:2033206,organization_group:"Culture & Recreation",department:"LLB Law Library",change:.0496100884515354},{2021:228100415,2022:239663471,organization_group:"Culture & Recreation",department:"REC Recreation & Park Commsn",change:.0506928319266758},{2021:5587723,2022:5572739,organization_group:"Culture & Recreation",department:"SCI Academy of Sciences",change:-.00268159319994924},{2021:24471735,2022:28897401,organization_group:"Culture & Recreation",department:"WAR War Memorial",change:.180848068189689},{2021:208635740,2022:264299766,organization_group:"General Administration & Finance",department:"ADM GSA - City Administrator",change:.266800050652874},{2021:35632125,2022:32647585,organization_group:"General Administration & Finance",department:"ASR Assessor / Recorder",change:-.0837598094416204},{2021:18444322,2022:20316610,organization_group:"General Administration & Finance",department:"BOS Board of Supervisors",change:.101510264242838},{2021:30846832,2022:32458458,organization_group:"General Administration & Finance",department:"CAT City Attorney",change:.0522460783006825},{2021:13333614,2022:13621888,organization_group:"General Administration & Finance",department:"CON Controller",change:.0216200948970024},{2021:58221124,2022:58967056,organization_group:"General Administration & Finance",department:"CPC City Planning",change:.0128120508288366},{2021:925194,2022:1027473,organization_group:"General Administration & Finance",department:"CSC Civil Service Commission",change:.110548706541546},{2021:10204315,2022:25503561,organization_group:"General Administration & Finance",department:"DT  GSA - Technology",change:1.49929181919609},{2021:4724515,2022:6551078,organization_group:"General Administration & Finance",department:"ETH Ethics Commission",change:.386613864068586},{2021:19626939,2022:27461905,organization_group:"General Administration & Finance",department:"HRD Human Resources",change:.399194494872583},{2021:634428,2022:635089,organization_group:"General Administration & Finance",department:"HSS Health Service System",change:.00104188339732798},{2021:189192902,2022:243946773,organization_group:"General Administration & Finance",department:"MYR Mayor",change:.289407638559294},{2021:24318329,2022:30601997,organization_group:"General Administration & Finance",department:"REG Elections",change:.258392260422169},{2021:39606333,2022:41250618,organization_group:"General Administration & Finance",department:"RET Retirement System",change:.0415157091165193},{2021:35819154,2022:38147304,organization_group:"General Administration & Finance",department:"TTX Treasurer/Tax Collector",change:.0649973475085425},{2021:755611439,2022:636273043,organization_group:"General City Responsibilities",department:"GEN General City / Unallocated",change:-.157936195563603},{2021:13489711,2022:13010244,organization_group:"Human Welfare & Neighborhood Development",department:"CFC Children & Families Commsn",change:-.0355431632301092},{2021:281888395,2022:309647967,organization_group:"Human Welfare & Neighborhood Development",department:"CHF Children;Youth & Families",change:.0984771721446709},{2021:222250766,2022:220745882,organization_group:"Human Welfare & Neighborhood Development",department:"CII Community Invest/Infrastr",change:-.00677110827145585},{2021:13242406,2022:13127955,organization_group:"Human Welfare & Neighborhood Development",department:"CSS Child Support Services",change:-.00864276476646313},{2021:35930210,2022:19642408,organization_group:"Human Welfare & Neighborhood Development",department:"ENV Environment",change:-.453317751273928},{2021:843879092,2022:660625639,organization_group:"Human Welfare & Neighborhood Development",department:"HOM Homelessness Services",change:-.217156053203887},{2021:11105468,2022:14444132,organization_group:"Human Welfare & Neighborhood Development",department:"HRC Human Rights Commission",change:.300632445206271},{2021:1353397268,2022:1312048243,organization_group:"Human Welfare & Neighborhood Development",department:"HSA Human Services Agency",change:-.0305520233989418},{2021:9381302,2022:13982121,organization_group:"Human Welfare & Neighborhood Development",department:"RNT Rent Arbitration Board",change:.490424356874983},{2021:10279426,2022:11121448,organization_group:"Human Welfare & Neighborhood Development",department:"WOM Status of Women",change:.0819133286236021},{2021:41818109,2022:48662113,organization_group:"Public Protection",department:"ADP Adult Probation",change:.163661250201437},{2021:131374564,2022:132701856,organization_group:"Public Protection",department:"CRT Superior Court",change:.0101031125020517},{2021:72914646,2022:80557752,organization_group:"Public Protection",department:"DAT District Attorney",change:.104822644273689},{2021:114237732,2022:118991530,organization_group:"Public Protection",department:"DEM Emergency Management",change:.0416132035954635},{2021:10207143,2022:9245996,organization_group:"Public Protection",department:"DPA Police Accountabilty",change:-.0941641554350713},{2021:405437421,2022:426614374,organization_group:"Public Protection",department:"FIR Fire Department",change:.0522323591832437},{2021:41104225,2022:42793703,organization_group:"Public Protection",department:"JUV Juvenile Probation",change:.0411022954452979},{2021:42164703,2022:45200551,organization_group:"Public Protection",department:"PDR Public Defender",change:.0719997482254292},{2021:651763601,2022:649650138,organization_group:"Public Protection",department:"POL Police",change:-.00324268338513736},{2021:216993200,2022:239206311,organization_group:"Public Protection",department:"SHF Sheriff",change:.102367774658376},{2021:1440243404,2022:1151679961,organization_group:"Public Works, Transportation & Commerce",department:"AIR Airport Commission",change:-.200357413336225},{2021:1177452,2022:1095914,organization_group:"Public Works, Transportation & Commerce",department:"BOA Board of Appeals",change:-.0692495320403719},{2021:89408513,2022:89493782,organization_group:"Public Works, Transportation & Commerce",department:"DBI Building Inspection",change:.000953701131345289},{2021:194204739,2022:202259443,organization_group:"Public Works, Transportation & Commerce",department:"DPW GSA - Public Works",change:.0414753215677193},{2021:90805453,2022:147639958,organization_group:"Public Works, Transportation & Commerce",department:"ECN Economic & Wrkfrce Dvlpmnt",change:.625893083755663},{2021:1542437079,2022:1384453801,organization_group:"Public Works, Transportation & Commerce",department:"MTA Municipal Transprtn Agncy",change:-.102424455526201},{2021:124752845,2022:92437882,organization_group:"Public Works, Transportation & Commerce",department:"PRT Port",change:-.259031872178947},{2021:1292888340,2022:1349852691,organization_group:"Public Works, Transportation & Commerce",department:"PUC Public Utilities Commsn",change:.0440597607988327}],pe={"SCI Academy of Sciences":"Academy of Sciences (SCI)","ADP Adult Probation":"Adult Probation (ADP)","AIR Airport Commission":"Airport Commission (AIR)","ART Arts Commission":"Arts Commission (ART)","AAM Asian Art Museum":"Asian Art Museum (AAM)","ASR Assessor / Recorder":"Assessor/Recorder (ASR)","BOA Board of Appeals":"Board of Appeals (BOA)","BOS Board of Supervisors":"Board of Supervisors (BOS)","DBI Building Inspection":"Building Inspection (DBI)","CSS Child Support Services":"Child Support Services (CSS)","CFC Children & Families Commsn":"Children & Families Commission (CFC)","CHF Children;Youth & Families":"Children, Youth & Families (CHF)","ADM GSA - City Administrator":"City Administrator (ADM)","CAT City Attorney":"City Attorney (CAT)","CSC Civil Service Commission":"Civil Service Commission (CSC)","CII Community Invest/Infrastr":"Community Investment (CII)","CON Controller":"Controller (CON)","DAT District Attorney":"District Attorney (DAT)","ECN Economic & Wrkfrce Dvlpmnt":"Economic & Workforce Development (ECN)","REG Elections":"Elections (REG)","DEM Emergency Management":"Emergency Management (DEM)","ENV Environment":"Environment (ENV)","ETH Ethics Commission":"Ethics Commission (ETH)","FAM Fine Arts Museum":"Fine Arts Museum (FAM)","FIR Fire Department":"Fire Department (FIR)","GEN General City / Unallocated":"General/Unallocated (GEN)","HSS Health Service System":"Health Service System (HSS)","HOM Homelessness Services":"Homelessness Services (HOM)","HRD Human Resources":"Human Resources  (HRD)","HRC Human Rights Commission":"Human Rights Commission (HRC)","HSA Human Services Agency":"Human Services Agency (HSA)","JUV Juvenile Probation":"Juvenile Probation (JUV)","LLB Law Library":"Law Library (LLB)","MYR Mayor":"Mayor (MYR)","MTA Municipal Transprtn Agncy":"Municipal Transporation (MTA)","CPC City Planning":"Planning (CPC)","POL Police":"Police (POL)","DPA Police Accountabilty":"Police Accountability (DPA)","PRT Port":"Port (PRT)","PDR Public Defender":"Public Defender (PDR)","DPH Public Health":"Public Health (DPH)","LIB Public Library":"Public Library (LIB)","PUC Public Utilities Commsn":"Public Utilities (PUC)","DPW GSA - Public Works":"Public Works (DPW)","REC Recreation & Park Commsn":"Rec & Park Commission (REC)","RNT Rent Arbitration Board":"Rent Arbitration Board (RNT)","RET Retirement System":"Retirement System (RET)","SHF Sheriff":"Sheriff (SHF)","WOM Status of Women":"Status of Women (WOM)","CRT Superior Court":"Superior Court (CRT)","DT  GSA - Technology":"Technology (DT)","TTX Treasurer/Tax Collector":"Treasurer/Tax Collector (TTX)","WAR War Memorial":"War Memorial (WAR)"},ye={"Public Health (DPH)":"Administers a wide range of public health services and programs, including SF General and Laguna Honda hospitals.","Asian Art Museum (AAM)":"City-owned museum showcasing art from Asian cultures. ","Arts Commission (ART)":"Develops public arts programming, gives grants and issues art vendor licenses.","Fine Arts Museum (FAM)":"Oversees the De Young Museum and Legion of Honor. ","Public Library (LIB)":"Manages the city's main branch and neighborhood libraries.","Law Library (LLB)":"Oversees the SF Law Library, a collection of legal resources for the public and legal community. ","Rec & Park Commission (REC)":"Oversees more than 220 public parks, playgrounds and open spaces. ","Academy of Sciences (SCI)":"Museum and research institute in Golden Gate Park.","War Memorial (WAR)":"City-owned opera house and performing arts centers. ","City Administrator (ADM)":"Oversees a range of city services, such as the County Clerk, capital planning program, office of contract administration and others. ","Assessor/Recorder (ASR)":"Assesses and maintains records of all taxable property in San Francisco. ","Board of Supervisors (BOS)":"11-member legislative body that sets city policy, and adopts ordinances and resolutions.","City Attorney (CAT)":"Law office representing the City and County of San Francisco.","Controller (CON)":"Chief budget office and auditor for San Francisco. ","Planning (CPC)":"Oversees long-range city planning, design review and environmental review for developments. ","Civil Service Commission (CSC)":"Oversees the city's merit system and sets policy for hiring and contracting. ","Technology (DT)":"Provides technology services to city departments and agencies.","Ethics Commission (ETH)":"Promotes education and enforcement of governmental ethics laws.","Human Resources  (HRD)":"Hires, develops, and supports the city's workforce. ","Health Service System (HSS)":"Administers health benefits for employees and retirees of the city, SFUSD, City College of San Francisco and SF Superior Court.","Mayor (MYR)":"San Francisco's chief executive. Sets policy, coordinates departments and intergovernmental activites, and prepares the budget. ","Elections (REG)":"Conducts elections and election-related services, and ensures voting access. ","Retirement System (RET)":"Administers pension and a compensation plans for current and retired city workers.","Treasurer/Tax Collector (TTX)":"Banker, tax collector, collection agent and investment officer for the city. ","General/Unallocated (GEN)":"Responsibilities not directly attributable to one city department, or that are citywide in nature.","Sheriff Accountability OIG (SDA)":"Civilian oversight body for the Sheriff's Department.","Children & Families Commission (CFC)":"Develops and funds programming for young children and their families.","Children, Youth & Families (CHF)":"Creates and facilitates citywide policy and projects in support of children, youth and families.","Community Investment (CII)":"Redevelopment agency that coordinates financing, affordable housing, and design and land use approvals for new neighborhoods.","Child Support Services (CSS)":"Establishes and enforces child and medical support orders.","Environment (ENV)":"Sets and implements policy on waste reduction, renewable energy, nature conservation and other environmental goals. ","Homelessness Services (HOM)":"Oversees programs and contracts related to homelessness and supportive housing. ","Human Rights Commission (HRC)":"Enforces the city’s anti-discrimination laws and promotes community racial solidarity and healing.","Human Services Agency (HSA)":"Provides food and cash assistance, health insurance, job training, early education and supportive care.","Rent Arbitration Board (RNT)":"Conducts rent arbitrations and mediations, and investigates wrongful evictions.","County Education Office (USD)":"San Francisco Unified School District, an independent entity.","Status of Women (WOM)":"Promotes the advancement of women and girls through policies, legislation and programs.","Adult Probation (ADP)":"Administers and coordinates reetnry programs, victims services and specialized court services for adult criminal offenders. ","Superior Court (CRT)":"State court with jurisdiction over the city and county of San Francisco. ","District Attorney (DAT)":"Prosecutes criminal violations of state and local laws.","Emergency Management (DEM)":"Manages disaster and emergency response, including 911. ","Police Accountability (DPA)":"Investigates complaints about police officers and recommends policy changes.","Fire Department (FIR)":"Provides firefighting, disaster response and emergency medial assistance. ","Juvenile Probation (JUV)":"Coordinates probation and rehabilitation services for youth offenders. ","Public Defender (PDR)":"Provides legal defense and services to criminal defendants. ","Police (POL)":"Enforces laws and investigates criminal activity. ","Sheriff (SHF)":"Manages jail and court services and provides other law enforcement support. ","Airport Commission (AIR)":"Oversees operations and maintenance of San Francisco International Airport. ","Board of Appeals (BOA)":"Hears and decides appeals related to permits, licenses and other use entitlements.","Building Inspection (DBI)":"Approves plans and issues permits all construction in the city. ","Public Works (DPW)":"Maintains and improves civic buildings, streets and other public infrastructure. ","Economic & Workforce Development (ECN)":"Coordinates small business services, economic and neighborhood development, and job placement programs. ","Municipal Transporation (MTA)":"Manages Muni and transit infrastructure, including walking, bicycling, parking, driving, paratransit, and taxis.","Port (PRT)":"Oversees operations and maintenance of the Port of San Francisco. ","Public Utilities (PUC)":"Provides water, power, and sewer services. ","Technology (COIT Funded)":"Funding allocated by the Committee on Information Technology, the city's tech governance and policy making body.","Capital (CPC Funded)":"Funding allocated by the Capital Planning Committee, which makes recommendations on capital expenditures. ","Maintenance (CPC Funded)":"Funding allocated by the Capital Planning Committee, which makes recommendations on capital expenditures. "};function ve(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function xe(t){let n=t,e=t,r=t;function i(t,n,i=0,o=t.length){if(i<o){if(0!==e(n,n))return o;do{const e=i+o>>>1;r(t[e],n)<0?i=e+1:o=e}while(i<o)}return i}return 1===t.length&&(n=(n,e)=>t(n)-e,e=ve,r=(n,e)=>ve(t(n),e)),{left:i,center:function(t,e,r=0,o=t.length){const a=i(t,e,r,o-1);return a>r&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,i=0,o=t.length){if(i<o){if(0!==e(n,n))return o;do{const e=i+o>>>1;r(t[e],n)<=0?i=e+1:o=e}while(i<o)}return i}}}const be=xe(ve).right;xe((function(t){return null===t?NaN:+t})).center;var we=be;class _e extends Map{constructor(t,n=$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),null!=t)for(const[n,e]of t)this.set(n,e)}get(t){return super.get(Me(this,t))}has(t){return super.has(Me(this,t))}set(t,n){return super.set(function({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}(this,t),n)}delete(t){return super.delete(function({_intern:t,_key:n},e){const r=n(e);t.has(r)&&(e=t.get(e),t.delete(r));return e}(this,t))}}function Me({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function $e(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Ae(t){return t}function Ce(t,...n){return function(t,n,e,r){return function t(i,o){if(o>=r.length)return e(i);const a=new _e,s=r[o++];let l=-1;for(const t of i){const n=s(t,++l,i),e=a.get(n);e?e.push(t):a.set(n,[t])}for(const[n,e]of a)a.set(n,t(e,o));return n(a)}(t,0)}(t,Ae,Ae,n)}var Ne=Math.sqrt(50),ke=Math.sqrt(10),Se=Math.sqrt(2);function Pe(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Ne?10:o>=ke?5:o>=Se?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ne?10:o>=ke?5:o>=Se?2:1)}function Re(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function ze(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function De(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Te(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ee(){}var He=.7,Fe=1/He,Ie="\\s*([+-]?\\d+)\\s*",Le="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",We=/^#([0-9a-f]{3,8})$/,Be=new RegExp("^rgb\\("+[Ie,Ie,Ie]+"\\)$"),qe=new RegExp("^rgb\\("+[Oe,Oe,Oe]+"\\)$"),je=new RegExp("^rgba\\("+[Ie,Ie,Ie,Le]+"\\)$"),Ge=new RegExp("^rgba\\("+[Oe,Oe,Oe,Le]+"\\)$"),Ue=new RegExp("^hsl\\("+[Le,Oe,Oe]+"\\)$"),Ye=new RegExp("^hsla\\("+[Le,Oe,Oe,Le]+"\\)$"),Ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Xe(){return this.rgb().formatHex()}function Je(){return this.rgb().formatRgb()}function Ke(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=We.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Ze(n):3===e?new er(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Qe(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Qe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Be.exec(t))?new er(n[1],n[2],n[3],1):(n=qe.exec(t))?new er(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=je.exec(t))?Qe(n[1],n[2],n[3],n[4]):(n=Ge.exec(t))?Qe(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Ue.exec(t))?ar(n[1],n[2]/100,n[3]/100,1):(n=Ye.exec(t))?ar(n[1],n[2]/100,n[3]/100,n[4]):Ve.hasOwnProperty(t)?Ze(Ve[t]):"transparent"===t?new er(NaN,NaN,NaN,0):null}function Ze(t){return new er(t>>16&255,t>>8&255,255&t,1)}function Qe(t,n,e,r){return r<=0&&(t=n=e=NaN),new er(t,n,e,r)}function tr(t){return t instanceof Ee||(t=Ke(t)),t?new er((t=t.rgb()).r,t.g,t.b,t.opacity):new er}function nr(t,n,e,r){return 1===arguments.length?tr(t):new er(t,n,e,null==r?1:r)}function er(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function rr(){return"#"+or(this.r)+or(this.g)+or(this.b)}function ir(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function or(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ar(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new lr(t,n,e,r)}function sr(t){if(t instanceof lr)return new lr(t.h,t.s,t.l,t.opacity);if(t instanceof Ee||(t=Ke(t)),!t)return new lr;if(t instanceof lr)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=n===o?(e-r)/s+6*(e<r):e===o?(r-n)/s+2:(n-e)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new lr(a,s,l,t.opacity)}function lr(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function cr(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}De(Ee,Ke,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Xe,formatHex:Xe,formatHsl:function(){return sr(this).formatHsl()},formatRgb:Je,toString:Je}),De(er,nr,Te(Ee,{brighter:function(t){return t=null==t?Fe:Math.pow(Fe,t),new er(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?He:Math.pow(He,t),new er(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rr,formatHex:rr,formatRgb:ir,toString:ir})),De(lr,(function(t,n,e,r){return 1===arguments.length?sr(t):new lr(t,n,e,null==r?1:r)}),Te(Ee,{brighter:function(t){return t=null==t?Fe:Math.pow(Fe,t),new lr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?He:Math.pow(He,t),new lr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new er(cr(t>=240?t-240:t+120,i,r),cr(t,i,r),cr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ur=t=>()=>t;function hr(t){return 1==(t=+t)?fr:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):ur(isNaN(n)?e:n)}}function fr(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):ur(isNaN(t)?n:t)}var dr=function t(n){var e=hr(n);function r(t,n){var r=e((t=nr(t)).r,(n=nr(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=fr(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);var gr,mr=(gr=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<n-1?t[r+2]:2*o-i;return function(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}((e-r/n)*n,a,i,o,s)}},function(t){var n,e,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(n=0;n<r;++n)e=nr(t[n]),i[n]=e.r||0,o[n]=e.g||0,a[n]=e.b||0;return i=gr(i),o=gr(o),a=gr(a),e.opacity=1,function(t){return e.r=i(t),e.g=o(t),e.b=a(t),e+""}});function pr(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function yr(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=$r(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function vr(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function xr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function br(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=$r(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_r=new RegExp(wr.source,"g");function Mr(t,n){var e,r,i,o=wr.lastIndex=_r.lastIndex=0,a=-1,s=[],l=[];for(t+="",n+="";(e=wr.exec(t))&&(r=_r.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(e=e[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:xr(e,r)})),o=_r.lastIndex;return o<n.length&&(i=n.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)s[(e=l[r]).i]=e.x(t);return s.join("")})}function $r(t,n){var e,r=typeof n;return null==n||"boolean"===r?ur(n):("number"===r?xr:"string"===r?(e=Ke(n))?(n=e,dr):Mr:n instanceof Ke?dr:n instanceof Date?vr:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?pr:Array.isArray(n)?yr:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?br:xr)(t,n)}function Ar(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function Cr(t){return+t}var Nr=[0,1];function kr(t){return t}function Sr(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Pr(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Sr(i,r),o=e(a,o)):(r=Sr(r,i),o=e(o,a)),function(t){return o(r(t))}}function Rr(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Sr(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=we(t,n,1,r)-1;return o[e](i[e](n))}}function zr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Dr(){var t,n,e,r,i,o,a=Nr,s=Nr,l=$r,c=kr;function u(){var t=Math.min(a.length,s.length);return c!==kr&&(c=function(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}(a[0],a[t-1])),r=t>2?Rr:Pr,i=o=null,h}function h(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),s,l)))(t(c(n)))}return h.invert=function(e){return c(n((o||(o=r(s,a.map(t),xr)))(e)))},h.domain=function(t){return arguments.length?(a=Array.from(t,Cr),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=Ar,u()},h.clamp=function(t){return arguments.length?(c=!!t||kr,u()):c!==kr},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,u()}}function Tr(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Er(t){return(t=Tr(Math.abs(t)))?t[1]:NaN}var Hr,Fr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ir(t){if(!(n=Fr.exec(t)))throw new Error("invalid format: "+t);var n;return new Lr({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Lr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Or(t,n){var e=Tr(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Ir.prototype=Lr.prototype,Lr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Wr={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Or(100*t,n),r:Or,s:function(t,n){var e=Tr(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Hr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Tr(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Br(t){return t}var qr,jr,Gr,Ur=Array.prototype.map,Yr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Vr(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Br:(n=Ur.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=n[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Br:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Ur.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=Ir(t)).fill,e=t.align,h=t.sign,f=t.symbol,d=t.zero,g=t.width,m=t.comma,p=t.precision,y=t.trim,v=t.type;"n"===v?(m=!0,v="g"):Wr[v]||(void 0===p&&(p=12),y=!0,v="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var x="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===f?o:/[%p]/.test(v)?l:"",w=Wr[v],_=/[defgprs%]/.test(v);function M(t){var i,o,l,f=x,M=b;if("c"===v)M=w(t)+M,t="";else{var $=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),p),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),$&&0==+t&&"+"!==h&&($=!1),f=($?"("===h?h:c:"-"===h||"("===h?"":h)+f,M=("s"===v?Yr[8+Hr/3]:"")+M+($&&"("===h?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){M=(46===l?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}m&&!d&&(t=r(t,1/0));var A=f.length+t.length+M.length,C=A<g?new Array(g-A+1).join(n):"";switch(m&&d&&(t=r(C+t,C.length?g-M.length:1/0),C=""),e){case"<":t=f+t+M+C;break;case"=":t=f+C+t+M;break;case"^":t=C.slice(0,A=C.length>>1)+f+t+M+C.slice(A);break;default:t=C+f+t+M}return s(t)}return p=void 0===p?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,n){var e=h(((t=Ir(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Er(n)/3))),i=Math.pow(10,-r),o=Yr[8+r/3];return function(t){return e(i*t)+o}}}}function Xr(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Ne?i*=10:o>=ke?i*=5:o>=Se&&(i*=2),n<t?-i:i}(t,n,e);switch((r=Ir(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Er(n)/3)))-Er(Math.abs(t)))}(o,a))||(r.precision=i),Gr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Er(n)-Er(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Er(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return jr(r)}function Jr(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,s=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=Pe(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);for(e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);++s<i;)o[s]=(e+s)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);for(e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);++s<i;)o[s]=(e+s)/a}return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Xr(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=Pe(l,c,e))===r)return o[a]=l,o[s]=c,n(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Kr(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Zr(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qr(t){return t<0?-t*t:t*t}function ti(t){var n=t(kr,kr),e=1;function r(){return 1===e?t(kr,kr):.5===e?t(Zr,Qr):t(Kr(e),Kr(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},Jr(n)}function ni(){var t=ti(Dr());return t.copy=function(){return zr(t,ni()).exponent(t.exponent())},ze.apply(t,arguments),t}function ei(){return ni.apply(null,arguments).exponent(.5)}function ri(){var t,n=[.5],e=[0,1],r=1;function i(i){return null!=i&&i<=i?e[we(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return ri().domain(n).range(e).unknown(t)},ze.apply(i,arguments)}!function(t){qr=Vr(t),jr=qr.format,Gr=qr.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var ii=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map((function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e}));function oi(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,s,l,c,u,h,f,d=t._root,g={data:r},m=t._x0,p=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=g,t;for(;d.length;)if((c=n>=(o=(m+y)/2))?m=o:y=o,(u=e>=(a=(p+v)/2))?p=a:v=a,i=d,!(d=d[h=u<<1|c]))return i[h]=g,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),n===s&&e===l)return g.next=d,i?i[h]=g:t._root=g,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=n>=(o=(m+y)/2))?m=o:y=o,(u=e>=(a=(p+v)/2))?p=a:v=a}while((h=u<<1|c)==(f=(l>=a)<<1|s>=o));return i[f]=d,i[h]=g,t}function ai(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function si(t){return t[0]}function li(t){return t[1]}function ci(t,n,e){var r=new ui(null==n?si:n,null==e?li:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ui(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function hi(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}(t=>{mr(t[t.length-1])})(ii);var fi=ci.prototype=ui.prototype;function di(t){return function(){return t}}function gi(t){return 1e-6*(t()-.5)}function mi(t){return t.x+t.vx}function pi(t){return t.y+t.vy}fi.copy=function(){var t,n,e=new ui(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=hi(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=hi(n));return e},fi.add=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return oi(this.cover(n,e),n,e,t)},fi.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,s[e]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),e=0;e<o;++e)oi(this,a[e],s[e],t[e]);return this},fi.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var a,s,l=i-e||1,c=this._root;e>t||t>=i||r>n||n>=o;)switch(s=(n<r)<<1|t<e,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:i=e+l,o=r+l;break;case 1:e=i-l,o=r+l;break;case 2:i=e+l,r=o-l;break;case 3:e=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},fi.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},fi.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},fi.find=function(t,n,e){var r,i,o,a,s,l,c,u=this._x0,h=this._y0,f=this._x1,d=this._y1,g=[],m=this._root;for(m&&g.push(new ai(m,u,h,f,d)),null==e?e=1/0:(u=t-e,h=n-e,f=t+e,d=n+e,e*=e);l=g.pop();)if(!(!(m=l.node)||(i=l.x0)>f||(o=l.y0)>d||(a=l.x1)<u||(s=l.y1)<h))if(m.length){var p=(i+a)/2,y=(o+s)/2;g.push(new ai(m[3],p,y,a,s),new ai(m[2],i,y,p,s),new ai(m[1],p,o,a,y),new ai(m[0],i,o,p,y)),(c=(n>=y)<<1|t>=p)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)}else{var v=t-+this._x.call(null,m.data),x=n-+this._y.call(null,m.data),b=v*v+x*x;if(b<e){var w=Math.sqrt(e=b);u=t-w,h=n-w,f=t+w,d=n+w,r=m.data}}return r},fi.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,s,l,c,u,h,f,d=this._root,g=this._x0,m=this._y0,p=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(g+p)/2))?g=s:p=s,(u=a>=(l=(m+y)/2))?m=l:y=l,n=d,!(d=d[h=u<<1|c]))return this;if(!d.length)break;(n[h+1&3]||n[h+2&3]||n[h+3&3])&&(e=n,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[h]=i:delete n[h],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[f]=d:this._root=d),this):(this._root=i,this)},fi.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},fi.root=function(){return this._root},fi.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},fi.visit=function(t){var n,e,r,i,o,a,s=[],l=this._root;for(l&&s.push(new ai(l,this._x0,this._y0,this._x1,this._y1));n=s.pop();)if(!t(l=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(e=l[3])&&s.push(new ai(e,c,u,o,a)),(e=l[2])&&s.push(new ai(e,r,u,c,a)),(e=l[1])&&s.push(new ai(e,c,i,o,u)),(e=l[0])&&s.push(new ai(e,r,i,c,u))}return this},fi.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new ai(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,s=n.y0,l=n.x1,c=n.y1,u=(a+l)/2,h=(s+c)/2;(o=i[0])&&e.push(new ai(o,a,s,u,h)),(o=i[1])&&e.push(new ai(o,u,s,l,h)),(o=i[2])&&e.push(new ai(o,a,h,u,c)),(o=i[3])&&e.push(new ai(o,u,h,l,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},fi.x=function(t){return arguments.length?(this._x=t,this):this._x},fi.y=function(t){return arguments.length?(this._y=t,this):this._y};var yi={value:()=>{}};function vi(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new xi(r)}function xi(t){this._=t}function bi(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function wi(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function _i(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=yi,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}xi.prototype=vi.prototype={constructor:xi,on:function(t,n){var e,r=this._,i=bi(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=_i(r[e],t.name,n);else if(null==n)for(e in r)r[e]=_i(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=wi(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new xi(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var Mi,$i,Ai=0,Ci=0,Ni=0,ki=0,Si=0,Pi=0,Ri="object"==typeof performance&&performance.now?performance:Date,zi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Di(){return Si||(zi(Ti),Si=Ri.now()+Pi)}function Ti(){Si=0}function Ei(){this._call=this._time=this._next=null}function Hi(t,n,e){var r=new Ei;return r.restart(t,n,e),r}function Fi(){Si=(ki=Ri.now())+Pi,Ai=Ci=0;try{!function(){Di(),++Ai;for(var t,n=Mi;n;)(t=Si-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Ai}()}finally{Ai=0,function(){var t,n,e=Mi,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Mi=n);$i=t,Li(r)}(),Si=0}}function Ii(){var t=Ri.now(),n=t-ki;n>1e3&&(Pi-=n,ki=t)}function Li(t){Ai||(Ci&&(Ci=clearTimeout(Ci)),t-Si>24?(t<1/0&&(Ci=setTimeout(Fi,t-Ri.now()-Pi)),Ni&&(Ni=clearInterval(Ni))):(Ni||(ki=Ri.now(),Ni=setInterval(Ii,1e3)),Ai=1,zi(Fi)))}Ei.prototype=Hi.prototype={constructor:Ei,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Di():+e)+(null==n?0:+n),this._next||$i===this||($i?$i._next=this:Mi=this,$i=this),this._call=t,this._time=e,Li()},stop:function(){this._call&&(this._call=null,this._time=1/0,Li())}};const Oi=4294967296;function Wi(t){return t.x}function Bi(t){return t.y}var qi=Math.PI*(3-Math.sqrt(5));function ji(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,l=Hi(h),c=vi("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%Oi)/Oi}();function h(){f(),c.call("tick",n),e<r&&(l.stop(),c.call("end",n))}function f(r){var l,c,u=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(e+=(o-e)*i,s.forEach((function(t){t(e)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return n}function d(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(.5+e),o=e*qi;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function g(n){return n.initialize&&n.initialize(t,u),n}return null==t&&(t=[]),d(),n={tick:f,restart:function(){return l.restart(h),n},stop:function(){return l.stop(),n},nodes:function(e){return arguments.length?(t=e,d(),s.forEach(g),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},randomSource:function(t){return arguments.length?(u=t,s.forEach(g),n):u},force:function(t,e){return arguments.length>1?(null==e?s.delete(t):s.set(t,g(e)),n):s.get(t)},find:function(n,e,r){var i,o,a,s,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(i=n-(s=t[c]).x)*i+(o=e-s.y)*o)<r&&(l=s,r=a);return l},on:function(t,e){return arguments.length>1?(c.on(t,e),n):c.on(t)}}}const Gi=134217729;function Ui(t,n,e,r,i){let o,a,s,l,c=n[0],u=r[0],h=0,f=0;u>c==u>-c?(o=c,c=n[++h]):(o=u,u=r[++f]);let d=0;if(h<t&&f<e)for(u>c==u>-c?(a=c+o,s=o-(a-c),c=n[++h]):(a=u+o,s=o-(a-u),u=r[++f]),o=a,0!==s&&(i[d++]=s);h<t&&f<e;)u>c==u>-c?(a=o+c,l=a-o,s=o-(a-l)+(c-l),c=n[++h]):(a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++f]),o=a,0!==s&&(i[d++]=s);for(;h<t;)a=o+c,l=a-o,s=o-(a-l)+(c-l),c=n[++h],o=a,0!==s&&(i[d++]=s);for(;f<e;)a=o+u,l=a-o,s=o-(a-l)+(u-l),u=r[++f],o=a,0!==s&&(i[d++]=s);return 0===o&&0!==d||(i[d++]=o),d}function Yi(t){return new Float64Array(t)}const Vi=Yi(4),Xi=Yi(8),Ji=Yi(12),Ki=Yi(16),Zi=Yi(4);function Qi(t,n,e,r,i,o){const a=(n-o)*(e-i),s=(t-i)*(r-o),l=a-s;if(0===a||0===s||a>0!=s>0)return l;const c=Math.abs(a+s);return Math.abs(l)>=33306690738754716e-32*c?l:-function(t,n,e,r,i,o,a){let s,l,c,u,h,f,d,g,m,p,y,v,x,b,w,_,M,$;const A=t-i,C=e-i,N=n-o,k=r-o;b=A*k,f=Gi*A,d=f-(f-A),g=A-d,f=Gi*k,m=f-(f-k),p=k-m,w=g*p-(b-d*m-g*m-d*p),_=N*C,f=Gi*N,d=f-(f-N),g=N-d,f=Gi*C,m=f-(f-C),p=C-m,M=g*p-(_-d*m-g*m-d*p),y=w-M,h=w-y,Vi[0]=w-(y+h)+(h-M),v=b+y,h=v-b,x=b-(v-h)+(y-h),y=x-_,h=x-y,Vi[1]=x-(y+h)+(h-_),$=v+y,h=$-v,Vi[2]=v-($-h)+(y-h),Vi[3]=$;let S=function(t,n){let e=n[0];for(let r=1;r<t;r++)e+=n[r];return e}(4,Vi),P=22204460492503146e-32*a;if(S>=P||-S>=P)return S;if(h=t-A,s=t-(A+h)+(h-i),h=e-C,c=e-(C+h)+(h-i),h=n-N,l=n-(N+h)+(h-o),h=r-k,u=r-(k+h)+(h-o),0===s&&0===l&&0===c&&0===u)return S;if(P=11093356479670487e-47*a+33306690738754706e-32*Math.abs(S),S+=A*u+k*s-(N*c+C*l),S>=P||-S>=P)return S;b=s*k,f=Gi*s,d=f-(f-s),g=s-d,f=Gi*k,m=f-(f-k),p=k-m,w=g*p-(b-d*m-g*m-d*p),_=l*C,f=Gi*l,d=f-(f-l),g=l-d,f=Gi*C,m=f-(f-C),p=C-m,M=g*p-(_-d*m-g*m-d*p),y=w-M,h=w-y,Zi[0]=w-(y+h)+(h-M),v=b+y,h=v-b,x=b-(v-h)+(y-h),y=x-_,h=x-y,Zi[1]=x-(y+h)+(h-_),$=v+y,h=$-v,Zi[2]=v-($-h)+(y-h),Zi[3]=$;const R=Ui(4,Vi,4,Zi,Xi);b=A*u,f=Gi*A,d=f-(f-A),g=A-d,f=Gi*u,m=f-(f-u),p=u-m,w=g*p-(b-d*m-g*m-d*p),_=N*c,f=Gi*N,d=f-(f-N),g=N-d,f=Gi*c,m=f-(f-c),p=c-m,M=g*p-(_-d*m-g*m-d*p),y=w-M,h=w-y,Zi[0]=w-(y+h)+(h-M),v=b+y,h=v-b,x=b-(v-h)+(y-h),y=x-_,h=x-y,Zi[1]=x-(y+h)+(h-_),$=v+y,h=$-v,Zi[2]=v-($-h)+(y-h),Zi[3]=$;const z=Ui(R,Xi,4,Zi,Ji);b=s*u,f=Gi*s,d=f-(f-s),g=s-d,f=Gi*u,m=f-(f-u),p=u-m,w=g*p-(b-d*m-g*m-d*p),_=l*c,f=Gi*l,d=f-(f-l),g=l-d,f=Gi*c,m=f-(f-c),p=c-m,M=g*p-(_-d*m-g*m-d*p),y=w-M,h=w-y,Zi[0]=w-(y+h)+(h-M),v=b+y,h=v-b,x=b-(v-h)+(y-h),y=x-_,h=x-y,Zi[1]=x-(y+h)+(h-_),$=v+y,h=$-v,Zi[2]=v-($-h)+(y-h),Zi[3]=$;const D=Ui(z,Ji,4,Zi,Ki);return Ki[D-1]}(t,n,e,r,i,o,c)}const to=Math.pow(2,-52),no=new Uint32Array(512);class eo{static from(t,n=lo,e=co){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=n(r),i[2*o+1]=e(r)}return new eo(i)}constructor(t){const n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const e=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:e,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let a=1/0,s=1/0,l=-1/0,c=-1/0;for(let n=0;n<o;n++){const e=t[2*n],r=t[2*n+1];e<a&&(a=e),r<s&&(s=r),e>l&&(l=e),r>c&&(c=r),this._ids[n]=n}const u=(a+l)/2,h=(s+c)/2;let f,d,g,m=1/0;for(let n=0;n<o;n++){const e=ro(u,h,t[2*n],t[2*n+1]);e<m&&(f=n,m=e)}const p=t[2*f],y=t[2*f+1];m=1/0;for(let n=0;n<o;n++){if(n===f)continue;const e=ro(p,y,t[2*n],t[2*n+1]);e<m&&e>0&&(d=n,m=e)}let v=t[2*d],x=t[2*d+1],b=1/0;for(let n=0;n<o;n++){if(n===f||n===d)continue;const e=oo(p,y,v,x,t[2*n],t[2*n+1]);e<b&&(g=n,b=e)}let w=t[2*g],_=t[2*g+1];if(b===1/0){for(let n=0;n<o;n++)this._dists[n]=t[2*n]-t[0]||t[2*n+1]-t[1];ao(this._ids,this._dists,0,o-1);const n=new Uint32Array(o);let e=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(n[e++]=i,r=this._dists[i])}return this.hull=n.subarray(0,e),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Qi(p,y,v,x,w,_)<0){const t=d,n=v,e=x;d=g,v=w,x=_,g=t,w=n,_=e}const M=function(t,n,e,r,i,o){const a=e-t,s=r-n,l=i-t,c=o-n,u=a*a+s*s,h=l*l+c*c,f=.5/(a*c-s*l);return{x:t+(c*u-s*h)*f,y:n+(a*h-l*u)*f}}(p,y,v,x,w,_);this._cx=M.x,this._cy=M.y;for(let n=0;n<o;n++)this._dists[n]=ro(t[2*n],t[2*n+1],M.x,M.y);ao(this._ids,this._dists,0,o-1),this._hullStart=f;let $=3;e[f]=n[g]=d,e[d]=n[f]=g,e[g]=n[d]=f,r[f]=0,r[d]=1,r[g]=2,i.fill(-1),i[this._hashKey(p,y)]=f,i[this._hashKey(v,x)]=d,i[this._hashKey(w,_)]=g,this.trianglesLen=0,this._addTriangle(f,d,g,-1,-1,-1);for(let o,a,s=0;s<this._ids.length;s++){const l=this._ids[s],c=t[2*l],u=t[2*l+1];if(s>0&&Math.abs(c-o)<=to&&Math.abs(u-a)<=to)continue;if(o=c,a=u,l===f||l===d||l===g)continue;let h=0;for(let t=0,n=this._hashKey(c,u);t<this._hashSize&&(h=i[(n+t)%this._hashSize],-1===h||h===e[h]);t++);h=n[h];let m,p=h;for(;m=e[p],Qi(c,u,t[2*p],t[2*p+1],t[2*m],t[2*m+1])>=0;)if(p=m,p===h){p=-1;break}if(-1===p)continue;let y=this._addTriangle(p,l,e[p],-1,-1,r[p]);r[l]=this._legalize(y+2),r[p]=y,$++;let v=e[p];for(;m=e[v],Qi(c,u,t[2*v],t[2*v+1],t[2*m],t[2*m+1])<0;)y=this._addTriangle(v,l,m,r[l],-1,r[v]),r[l]=this._legalize(y+2),e[v]=v,$--,v=m;if(p===h)for(;m=n[p],Qi(c,u,t[2*m],t[2*m+1],t[2*p],t[2*p+1])<0;)y=this._addTriangle(m,l,p,-1,r[p],r[m]),this._legalize(y+2),r[m]=y,e[p]=p,$--,p=m;this._hullStart=n[l]=p,e[p]=n[v]=l,e[l]=v,i[this._hashKey(c,u)]=l,i[this._hashKey(t[2*p],t[2*p+1])]=p}this.hull=new Uint32Array($);for(let t=0,n=this._hullStart;t<$;t++)this.hull[t]=n,n=e[n];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:e,coords:r}=this;let i=0,o=0;for(;;){const a=e[t],s=t-t%3;if(o=s+(t+2)%3,-1===a){if(0===i)break;t=no[--i];continue}const l=a-a%3,c=s+(t+1)%3,u=l+(a+2)%3,h=n[o],f=n[t],d=n[c],g=n[u];if(io(r[2*h],r[2*h+1],r[2*f],r[2*f+1],r[2*d],r[2*d+1],r[2*g],r[2*g+1])){n[t]=g,n[a]=h;const r=e[u];if(-1===r){let n=this._hullStart;do{if(this._hullTri[n]===u){this._hullTri[n]=t;break}n=this._hullPrev[n]}while(n!==this._hullStart)}this._link(t,r),this._link(a,e[o]),this._link(o,u);const s=l+(a+1)%3;i<no.length&&(no[i++]=s)}else{if(0===i)break;t=no[--i]}}return o}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,e,r,i,o){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=e,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}function ro(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}function io(t,n,e,r,i,o,a,s){const l=t-a,c=n-s,u=e-a,h=r-s,f=i-a,d=o-s,g=u*u+h*h,m=f*f+d*d;return l*(h*m-g*d)-c*(u*m-g*f)+(l*l+c*c)*(u*d-h*f)<0}function oo(t,n,e,r,i,o){const a=e-t,s=r-n,l=i-t,c=o-n,u=a*a+s*s,h=l*l+c*c,f=.5/(a*c-s*l),d=(c*u-s*h)*f,g=(a*h-l*u)*f;return d*d+g*g}function ao(t,n,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const r=t[i],o=n[r];let a=i-1;for(;a>=e&&n[t[a]]>o;)t[a+1]=t[a--];t[a+1]=r}else{let i=e+1,o=r;so(t,e+r>>1,i),n[t[e]]>n[t[r]]&&so(t,e,r),n[t[i]]>n[t[r]]&&so(t,i,r),n[t[e]]>n[t[i]]&&so(t,e,i);const a=t[i],s=n[a];for(;;){do{i++}while(n[t[i]]<s);do{o--}while(n[t[o]]>s);if(o<i)break;so(t,i,o)}t[e+1]=t[o],t[o]=a,r-i+1>=o-e?(ao(t,n,i,r),ao(t,n,e,o-1)):(ao(t,n,e,o-1),ao(t,n,i,r))}}function so(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function lo(t){return t[0]}function co(t){return t[1]}const uo=1e-6;class ho{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,e){const r=(t=+t)+(e=+e),i=n=+n;if(e<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>uo||Math.abs(this._y1-i)>uo)&&(this._+="L"+r+","+i),e&&(this._+=`A${e},${e},0,1,1,${t-e},${n}A${e},${e},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,n,e,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+e}v${+r}h${-e}Z`}value(){return this._||null}}class fo{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class go{constructor(t,[n,e,r,i]=[0,0,960,500]){if(!((r=+r)>=(n=+n)&&(i=+i)>=(e=+e)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=n,this.ymax=i,this.ymin=e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:e},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let n,r,o=0,a=0,s=e.length;o<s;o+=3,a+=2){const s=2*e[o],l=2*e[o+1],c=2*e[o+2],u=t[s],h=t[s+1],f=t[l],d=t[l+1],g=t[c],m=t[c+1],p=f-u,y=d-h,v=g-u,x=m-h,b=2*(p*x-y*v);if(Math.abs(b)<1e-9){let i=1e9;const o=2*e[0];i*=Math.sign((t[o]-u)*x-(t[o+1]-h)*v),n=(u+g)/2-i*x,r=(h+m)/2+i*v}else{const t=1/b,e=p*p+y*y,i=v*v+x*x;n=u+(x*e-y*i)*t,r=h+(p*i-v*e)*t}i[a]=n,i[a+1]=r}let o,a,s,l=n[n.length-1],c=4*l,u=t[2*l],h=t[2*l+1];r.fill(0);for(let e=0;e<n.length;++e)l=n[e],o=c,a=u,s=h,c=4*l,u=t[2*l],h=t[2*l+1],r[o+2]=r[c]=s-h,r[o+3]=r[c+1]=u-a}render(t){const n=null==t?t=new ho:void 0,{delaunay:{halfedges:e,inedges:r,hull:i},circumcenters:o,vectors:a}=this;if(i.length<=1)return null;for(let n=0,r=e.length;n<r;++n){const r=e[n];if(r<n)continue;const i=2*Math.floor(n/3),a=2*Math.floor(r/3),s=o[i],l=o[i+1],c=o[a],u=o[a+1];this._renderSegment(s,l,c,u,t)}let s,l=i[i.length-1];for(let n=0;n<i.length;++n){s=l,l=i[n];const e=2*Math.floor(r[l]/3),c=o[e],u=o[e+1],h=4*s,f=this._project(c,u,a[h+2],a[h+3]);f&&this._renderSegment(c,u,f[0],f[1],t)}return n&&n.value()}renderBounds(t){const n=null==t?t=new ho:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const e=null==n?n=new ho:void 0,r=this._clip(t);if(null===r||!r.length)return;n.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||n.lineTo(r[t],r[t+1]);return n.closePath(),e&&e.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,e=t.length/2;n<e;++n){const t=this.cellPolygon(n);t&&(t.index=n,yield t)}}cellPolygon(t){const n=new fo;return this.renderCell(t,n),n.value()}_renderSegment(t,n,e,r,i){let o;const a=this._regioncode(t,n),s=this._regioncode(e,r);0===a&&0===s?(i.moveTo(t,n),i.lineTo(e,r)):(o=this._clipSegment(t,n,e,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,n,e){return(n=+n)==n&&(e=+e)==e&&this.delaunay._step(t,n,e)===t}*neighbors(t){const n=this._clip(t);if(n)for(const e of this.delaunay.neighbors(t)){const t=this._clip(e);if(t)t:for(let r=0,i=n.length;r<i;r+=2)for(let o=0,a=t.length;o<a;o+=2)if(n[r]==t[o]&&n[r+1]==t[o+1]&&n[(r+2)%i]==t[(o+a-2)%a]&&n[(r+3)%i]==t[(o+a-1)%a]){yield e;break t}}}_cell(t){const{circumcenters:n,delaunay:{inedges:e,halfedges:r,triangles:i}}=this,o=e[t];if(-1===o)return null;const a=[];let s=o;do{const e=Math.floor(s/3);if(a.push(n[2*e],n[2*e+1]),s=s%3==2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==o&&-1!==s);return a}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(null===n)return null;const{vectors:e}=this,r=4*t;return e[r]||e[r+1]?this._clipInfinite(t,n,e[r],e[r+1],e[r+2],e[r+3]):this._clipFinite(t,n)}_clipFinite(t,n){const e=n.length;let r,i,o,a,s=null,l=n[e-2],c=n[e-1],u=this._regioncode(l,c),h=0;for(let f=0;f<e;f+=2)if(r=l,i=c,l=n[f],c=n[f+1],o=u,u=this._regioncode(l,c),0===o&&0===u)a=h,h=0,s?s.push(l,c):s=[l,c];else{let n,e,f,d,g;if(0===o){if(null===(n=this._clipSegment(r,i,l,c,o,u)))continue;[e,f,d,g]=n}else{if(null===(n=this._clipSegment(l,c,r,i,u,o)))continue;[d,g,e,f]=n,a=h,h=this._edgecode(e,f),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(e,f):s=[e,f]}a=h,h=this._edgecode(d,g),a&&h&&this._edge(t,a,h,s,s.length),s?s.push(d,g):s=[d,g]}if(s)a=h,h=this._edgecode(s[0],s[1]),a&&h&&this._edge(t,a,h,s,s.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return s}_clipSegment(t,n,e,r,i,o){for(;;){if(0===i&&0===o)return[t,n,e,r];if(i&o)return null;let a,s,l=i||o;8&l?(a=t+(e-t)*(this.ymax-n)/(r-n),s=this.ymax):4&l?(a=t+(e-t)*(this.ymin-n)/(r-n),s=this.ymin):2&l?(s=n+(r-n)*(this.xmax-t)/(e-t),a=this.xmax):(s=n+(r-n)*(this.xmin-t)/(e-t),a=this.xmin),i?(t=a,n=s,i=this._regioncode(t,n)):(e=a,r=s,o=this._regioncode(e,r))}}_clipInfinite(t,n,e,r,i,o){let a,s=Array.from(n);if((a=this._project(s[0],s[1],e,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(t,s))for(let n,e=0,r=s.length,i=this._edgecode(s[r-2],s[r-1]);e<r;e+=2)n=i,i=this._edgecode(s[e],s[e+1]),n&&i&&(e=this._edge(t,n,i,s,e),r=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,n,e,r,i){for(;n!==e;){let e,o;switch(n){case 5:n=4;continue;case 4:n=6,e=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,e=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,e=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,e=this.xmin,o=this.ymin}r[i]===e&&r[i+1]===o||!this.contains(t,e,o)||(r.splice(i,0,e,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const n=(t+2)%r.length,e=(t+4)%r.length;(r[t]===r[n]&&r[n]===r[e]||r[t+1]===r[n+1]&&r[n+1]===r[e+1])&&(r.splice(n,2),t-=2)}return i}_project(t,n,e,r){let i,o,a,s=1/0;if(r<0){if(n<=this.ymin)return null;(i=(this.ymin-n)/r)<s&&(a=this.ymin,o=t+(s=i)*e)}else if(r>0){if(n>=this.ymax)return null;(i=(this.ymax-n)/r)<s&&(a=this.ymax,o=t+(s=i)*e)}if(e>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/e)<s&&(o=this.xmax,a=n+(s=i)*r)}else if(e<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/e)<s&&(o=this.xmin,a=n+(s=i)*r)}return[o,a]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const mo=2*Math.PI,po=Math.pow;function yo(t){return t[0]}function vo(t){return t[1]}function xo(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class bo{static from(t,n=yo,e=vo,r){return new bo("length"in t?function(t,n,e,r){const i=t.length,o=new Float64Array(2*i);for(let a=0;a<i;++a){const i=t[a];o[2*a]=n.call(r,i,a,t),o[2*a+1]=e.call(r,i,a,t)}return o}(t,n,e,r):Float64Array.from(function*(t,n,e,r){let i=0;for(const o of t)yield n.call(r,o,i,t),yield e.call(r,o,i,t),++i}(t,n,e,r)))}constructor(t){this._delaunator=new eo(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:n,coords:e}=t;for(let t=0;t<n.length;t+=3){const r=2*n[t],i=2*n[t+1],o=2*n[t+2];if((e[o]-e[r])*(e[i+1]-e[r+1])-(e[i]-e[r])*(e[o+1]-e[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},((t,n)=>n)).sort(((t,e)=>n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]));const t=this.collinear[0],e=this.collinear[this.collinear.length-1],r=[n[2*t],n[2*t+1],n[2*e],n[2*e+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,e=n.length/2;t<e;++t){const e=xo(n[2*t],n[2*t+1],i);n[2*t]=e[0],n[2*t+1]=e[1]}this._delaunator=new eo(n)}else delete this.collinear;const e=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let t=0,n=e.length;t<n;++t){const n=i[t%3==2?t-2:t+1];-1!==e[t]&&-1!==o[n]||(o[n]=t)}for(let t=0,n=r.length;t<n;++t)a[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],o[r[0]]=1,2===r.length&&(o[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(t){return new go(this,t)}*neighbors(t){const{inedges:n,hull:e,_hullIndex:r,halfedges:i,triangles:o,collinear:a}=this;if(a){const n=a.indexOf(t);return n>0&&(yield a[n-1]),void(n<a.length-1&&(yield a[n+1]))}const s=n[t];if(-1===s)return;let l=s,c=-1;do{if(yield c=o[l],l=l%3==2?l-2:l+1,o[l]!==t)return;if(l=i[l],-1===l){const n=e[(r[t]+1)%e.length];return void(n!==c&&(yield n))}}while(l!==s)}find(t,n,e=0){if((t=+t)!=t||(n=+n)!=n)return-1;const r=e;let i;for(;(i=this._step(e,t,n))>=0&&i!==e&&i!==r;)e=i;return i}_step(t,n,e){const{inedges:r,hull:i,_hullIndex:o,halfedges:a,triangles:s,points:l}=this;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);let c=t,u=po(n-l[2*t],2)+po(e-l[2*t+1],2);const h=r[t];let f=h;do{let r=s[f];const h=po(n-l[2*r],2)+po(e-l[2*r+1],2);if(h<u&&(u=h,c=r),f=f%3==2?f-2:f+1,s[f]!==t)break;if(f=a[f],-1===f){if(f=i[(o[t]+1)%i.length],f!==r&&po(n-l[2*f],2)+po(e-l[2*f+1],2)<u)return f;break}}while(f!==h);return c}render(t){const n=null==t?t=new ho:void 0,{points:e,halfedges:r,triangles:i}=this;for(let n=0,o=r.length;n<o;++n){const o=r[n];if(o<n)continue;const a=2*i[n],s=2*i[o];t.moveTo(e[a],e[a+1]),t.lineTo(e[s],e[s+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){void 0!==n||t&&"function"==typeof t.moveTo||(n=t,t=null),n=null==n?2:+n;const e=null==t?t=new ho:void 0,{points:r}=this;for(let e=0,i=r.length;e<i;e+=2){const i=r[e],o=r[e+1];t.moveTo(i+n,o),t.arc(i,o,n,0,mo)}return e&&e.value()}renderHull(t){const n=null==t?t=new ho:void 0,{hull:e,points:r}=this,i=2*e[0],o=e.length;t.moveTo(r[i],r[i+1]);for(let n=1;n<o;++n){const i=2*e[n];t.lineTo(r[i],r[i+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new fo;return this.renderHull(t),t.value()}renderTriangle(t,n){const e=null==n?n=new ho:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],a=2*i[t+1],s=2*i[t+2];return n.moveTo(r[o],r[o+1]),n.lineTo(r[a],r[a+1]),n.lineTo(r[s],r[s+1]),n.closePath(),e&&e.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,e=t.length/3;n<e;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new fo;return this.renderTriangle(t,n),n.value()}}function wo(t,n,e){const r=t.slice();return r[19]=n[e],r[21]=e,r}function _o(t,n,e){const r=t.slice();return r[22]=n[e],r}function Mo(t){let n,e,r,i,o;return{c(){n=x("circle"),$(n,"class","node svelte-18u3riy"),$(n,"cx",e=t[22].x),$(n,"cy",r=t[22].y),$(n,"r",i=t[3](t[22])),$(n,"fill",o=t[5](t[22])),P(n,"hovered",t[0]&&t[0].data.department==t[22].department)},m(t,e){m(t,n,e)},p(t,a){4&a&&e!==(e=t[22].x)&&$(n,"cx",e),4&a&&r!==(r=t[22].y)&&$(n,"cy",r),12&a&&i!==(i=t[3](t[22]))&&$(n,"r",i),36&a&&o!==(o=t[5](t[22]))&&$(n,"fill",o),5&a&&P(n,"hovered",t[0]&&t[0].data.department==t[22].department)},d(t){t&&p(n)}}}function $o(t){let n,e,i,o;function a(...n){return t[16](t[19],...n)}return{c(){n=x("path"),$(n,"class","voronoi-cell svelte-18u3riy"),$(n,"d",e=t[4].renderCell(t[21]))},m(e,r){m(e,n,r),i||(o=[M(n,"mousemove",a),M(n,"mouseout",t[17]),M(n,"blur",t[18])],i=!0)},p(r,i){t=r,16&i&&e!==(e=t[4].renderCell(t[21]))&&$(n,"d",e)},d(t){t&&p(n),i=!1,r(o)}}}function Ao(n){let e,r,i,o=n[2],a=[];for(let t=0;t<o.length;t+=1)a[t]=Mo(_o(n,o,t));let s=n[1],l=[];for(let t=0;t<s.length;t+=1)l[t]=$o(wo(n,s,t));return{c(){e=x("g");for(let t=0;t<a.length;t+=1)a[t].c();r=w(),i=x("g");for(let t=0;t<l.length;t+=1)l[t].c();$(e,"class","bee-group"),$(i,"class","voronoi-group")},m(t,n){m(t,e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null);m(t,r,n),m(t,i,n);for(let t=0;t<l.length;t+=1)l[t].m(i,null)},p(t,[n]){if(45&n){let r;for(o=t[2],r=0;r<o.length;r+=1){const i=_o(t,o,r);a[r]?a[r].p(i,n):(a[r]=Mo(i),a[r].c(),a[r].m(e,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}if(19&n){let e;for(s=t[1],e=0;e<s.length;e+=1){const r=wo(t,s,e);l[e]?l[e].p(r,n):(l[e]=$o(r),l[e].c(),l[e].m(i,null))}for(;e<l.length;e+=1)l[e].d(1);l.length=s.length}},i:t,o:t,d(t){t&&p(e),y(a,t),t&&p(r),t&&p(i),y(l,t)}}}function Co(t,n,e){let r,i,o,a,l,c,u,h,f;const{data:d,width:g,height:m,rGet:p,zGet:y}=D("LayerCake");s(t,d,(t=>e(15,h=t))),s(t,g,(t=>e(14,c=t))),s(t,m,(t=>e(13,l=t))),s(t,p,(t=>e(3,u=t))),s(t,y,(t=>e(5,f=t)));let{hovered:v}=n,{manyBodyStrength:x=100}=n;return t.$$set=t=>{"hovered"in t&&e(0,v=t.hovered),"manyBodyStrength"in t&&e(11,x=t.manyBodyStrength)},t.$$.update=()=>{if(59400&t.$$.dirty&&e(12,r=ji(h).force("collide",function(t){var n,e,r,i=1,o=1;function a(){for(var t,a,l,c,u,h,f,d=n.length,g=0;g<o;++g)for(a=ci(n,mi,pi).visitAfter(s),t=0;t<d;++t)l=n[t],h=e[l.index],f=h*h,c=l.x+l.vx,u=l.y+l.vy,a.visit(m);function m(t,n,e,o,a){var s=t.data,d=t.r,g=h+d;if(!s)return n>c+g||o<c-g||e>u+g||a<u-g;if(s.index>l.index){var m=c-s.x-s.vx,p=u-s.y-s.vy,y=m*m+p*p;y<g*g&&(0===m&&(y+=(m=gi(r))*m),0===p&&(y+=(p=gi(r))*p),y=(g-(y=Math.sqrt(y)))/y*i,l.vx+=(m*=y)*(g=(d*=d)/(f+d)),l.vy+=(p*=y)*g,s.vx-=m*(g=1-g),s.vy-=p*g)}}}function s(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function l(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=di(null==t?1:+t)),a.initialize=function(t,e){n=t,r=e,l()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:di(+n),l(),a):t},a}((t=>u(t)+1))).force("center",function(t,n){var e,r=1;function i(){var i,o,a=e.length,s=0,l=0;for(i=0;i<a;++i)s+=(o=e[i]).x,l+=o.y;for(s=(s/a-t)*r,l=(l/a-n)*r,i=0;i<a;++i)(o=e[i]).x-=s,o.y-=l}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){e=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i.strength=function(t){return arguments.length?(r=+t,i):r},i}(c/2,l/2)).force("charge",function(){var t,n,e,r,i,o=di(-30),a=1,s=1/0,l=.81;function c(e){var i,o=t.length,a=ci(t,Wi,Bi).visitAfter(h);for(r=e,i=0;i<o;++i)n=t[i],a.visit(f)}function u(){if(t){var n,e,r=t.length;for(i=new Array(r),n=0;n<r;++n)e=t[n],i[e.index]=+o(e,n,t)}}function h(t){var n,e,r,o,a,s=0,l=0;if(t.length){for(r=o=a=0;a<4;++a)(n=t[a])&&(e=Math.abs(n.value))&&(s+=n.value,l+=e,r+=e*n.x,o+=e*n.y);t.x=r/l,t.y=o/l}else{(n=t).x=n.data.x,n.y=n.data.y;do{s+=i[n.data.index]}while(n=n.next)}t.value=s}function f(t,o,c,u){if(!t.value)return!0;var h=t.x-n.x,f=t.y-n.y,d=u-o,g=h*h+f*f;if(d*d/l<g)return g<s&&(0===h&&(g+=(h=gi(e))*h),0===f&&(g+=(f=gi(e))*f),g<a&&(g=Math.sqrt(a*g)),n.vx+=h*t.value*r/g,n.vy+=f*t.value*r/g),!0;if(!(t.length||g>=s)){(t.data!==n||t.next)&&(0===h&&(g+=(h=gi(e))*h),0===f&&(g+=(f=gi(e))*f),g<a&&(g=Math.sqrt(a*g)));do{t.data!==n&&(d=i[t.data.index]*r/g,n.vx+=h*d,n.vy+=f*d)}while(t=t.next)}}return c.initialize=function(n,r){t=n,e=r,u()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:di(+t),u(),c):o},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}().strength(x)).stop()),4096&t.$$.dirty)for(let t=0,n=Math.ceil(Math.log(r.alphaMin())/Math.log(1-r.alphaDecay()));t<n;++t)r.tick();4096&t.$$.dirty&&e(2,i=r.nodes()),4&t.$$.dirty&&e(1,o=i.map((t=>{const n=[t.x,t.y];return n.data=t,n}))),24578&t.$$.dirty&&e(4,a=bo.from(o).voronoi([0,0,c,l]))},[v,o,i,u,a,f,d,g,m,p,y,x,r,l,c,h,(t,n)=>{e(0,v={e:n,data:t.data})},()=>e(0,v=null),()=>e(0,v=null)]}class No extends et{constructor(t){super(),nt(this,t,Co,Ao,o,{hovered:0,manyBodyStrength:11})}}function ko(t){let n,e,r,i,o,a,s,l,c,u,h,f,y=pe[t[1].data.department]+"",x=ye[pe[t[1].data.department]]+"",_=t[3](t[1].data[2022])+"",M=t[2](t[1].data.change)+"",C=t[1].data.change>0&&So();return{c(){n=v("div"),e=b(y),r=w(),i=v("div"),o=b(x),a=w(),s=v("div"),l=b(_),c=w(),u=v("span"),C&&C.c(),h=b(M),$(n,"class","title svelte-htq6mq"),$(i,"class","description svelte-htq6mq"),$(u,"class",f=d("change "+(t[1].data.change>0?"positive":"negative"))+" svelte-htq6mq"),$(s,"class","value svelte-htq6mq")},m(t,f){m(t,n,f),g(n,e),m(t,r,f),m(t,i,f),g(i,o),m(t,a,f),m(t,s,f),g(s,l),g(s,c),g(s,u),C&&C.m(u,null),g(u,h)},p(t,n){2&n&&y!==(y=pe[t[1].data.department]+"")&&A(e,y),2&n&&x!==(x=ye[pe[t[1].data.department]]+"")&&A(o,x),10&n&&_!==(_=t[3](t[1].data[2022])+"")&&A(l,_),t[1].data.change>0?C||(C=So(),C.c(),C.m(u,h)):C&&(C.d(1),C=null),6&n&&M!==(M=t[2](t[1].data.change)+"")&&A(h,M),2&n&&f!==(f=d("change "+(t[1].data.change>0?"positive":"negative"))+" svelte-htq6mq")&&$(u,"class",f)},d(t){t&&p(n),t&&p(r),t&&p(i),t&&p(a),t&&p(s),C&&C.d()}}}function So(t){let n;return{c(){n=b("+")},m(t,e){m(t,n,e)},d(t){t&&p(n)}}}function Po(n){let e,r,i,o=n[1]&&ko(n);return{c(){e=v("div"),o&&o.c(),$(e,"class",d("tooltip")+" svelte-htq6mq"),$(e,"style",r=n[1]&&n[1].e&&`top: ${n[6](n[1].e.clientY,n[0].getBoundingClientRect().top)}px; left: ${n[7](n[1].e.clientX,n[0].getBoundingClientRect().left)}px;`),O((()=>n[10].call(e))),P(e,"active",n[1])},m(t,r){m(t,e,r),o&&o.m(e,null),i=S(e,n[10].bind(e))},p(t,[n]){t[1]?o?o.p(t,n):(o=ko(t),o.c(),o.m(e,null)):o&&(o.d(1),o=null),3&n&&r!==(r=t[1]&&t[1].e&&`top: ${t[6](t[1].e.clientY,t[0].getBoundingClientRect().top)}px; left: ${t[7](t[1].e.clientX,t[0].getBoundingClientRect().left)}px;`)&&$(e,"style",r),2&n&&P(e,"active",t[1])},i:t,o:t,d(t){t&&p(e),o&&o.d(),i()}}}function Ro(t,n,e){let r,i,{w:o,h:a,container:s,hovered:l,formatPercent:c,formatDollars:u}=n;return s.getBoundingClientRect().left,s.getBoundingClientRect().top,t.$$set=t=>{"w"in t&&e(8,o=t.w),"h"in t&&e(9,a=t.h),"container"in t&&e(0,s=t.container),"hovered"in t&&e(1,l=t.hovered),"formatPercent"in t&&e(2,c=t.formatPercent),"formatDollars"in t&&e(3,u=t.formatDollars)},t.$$.update=()=>{t.$$.dirty},[s,l,c,u,r,i,function(t,n){return t+i-n>a?t-i-n-10:t-n+10},function(t,n){return t+r-n>o?t-r-n<0?t-n-r/2:t-n-r-10:t-n+10},o,a,function(){r=this.clientWidth,i=this.clientHeight,e(4,r),e(5,i)}]}class zo extends et{constructor(t){super(),nt(this,t,Ro,Po,o,{w:8,h:9,container:0,hovered:1,formatPercent:2,formatDollars:3})}}function Do(t,n,e){const r=t.slice();return r[3]=n[e],r[5]=e,r}function To(t,n,e){const r=t.slice();return r[3]=n[e],r[5]=e,r}function Eo(t){let n,e,r,i,o;return{c(){n=x("rect"),$(n,"class","legend-rect"),$(n,"key",e=t[3]),$(n,"fill",r=t[3]),$(n,"width",Io),$(n,"height",Lo),$(n,"x",i=t[5]*Io),$(n,"y",o=0)},m(t,e){m(t,n,e)},p(t,i){2&i&&e!==(e=t[3])&&$(n,"key",e),2&i&&r!==(r=t[3])&&$(n,"fill",r)},d(t){t&&p(n)}}}function Ho(t){let n,e,r,i,o,a,s,l,c,u,h,f=t[2](t[3])+"";return{c(){n=x("g"),e=x("line"),s=x("text"),l=b(f),$(e,"class","tick-line svelte-npyr10"),$(e,"x1",r=0),$(e,"x2",i=0),$(e,"y1",o=0),$(e,"y2",a=1.5*Lo),$(s,"class","tick-text svelte-npyr10"),$(s,"y",c=3*Lo),$(n,"class","legend-tick"),$(n,"key",u=t[3]),$(n,"transform",h=`translate(${(t[5]+1)*Io}, 0)`)},m(t,r){m(t,n,r),g(n,e),g(n,s),g(s,l)},p(t,e){5&e&&f!==(f=t[2](t[3])+"")&&A(l,f),1&e&&u!==(u=t[3])&&$(n,"key",u)},d(t){t&&p(n)}}}function Fo(n){let e,r,i,o,a=n[1],s=[];for(let t=0;t<a.length;t+=1)s[t]=Eo(To(n,a,t));let l=n[0],c=[];for(let t=0;t<l.length;t+=1)c[t]=Ho(Do(n,l,t));return{c(){e=x("svg"),r=x("g");for(let t=0;t<s.length;t+=1)s[t].c();i=_();for(let t=0;t<c.length;t+=1)c[t].c();$(r,"class","color-legend"),$(r,"transform","translate(0,0)"),$(e,"width",o=Io*(n[0].length+1)),$(e,"height",30)},m(t,n){m(t,e,n),g(e,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null);g(r,i);for(let t=0;t<c.length;t+=1)c[t].m(r,null)},p(t,[n]){if(2&n){let e;for(a=t[1],e=0;e<a.length;e+=1){const o=To(t,a,e);s[e]?s[e].p(o,n):(s[e]=Eo(o),s[e].c(),s[e].m(r,i))}for(;e<s.length;e+=1)s[e].d(1);s.length=a.length}if(5&n){let e;for(l=t[0],e=0;e<l.length;e+=1){const i=Do(t,l,e);c[e]?c[e].p(i,n):(c[e]=Ho(i),c[e].c(),c[e].m(r,null))}for(;e<c.length;e+=1)c[e].d(1);c.length=l.length}1&n&&o!==(o=Io*(t[0].length+1))&&$(e,"width",o)},i:t,o:t,d(t){t&&p(e),y(s,t),y(c,t)}}}const Io=36,Lo=8;function Oo(t,n,e){let{zDomain:r,zRange:i,formatPercent:o}=n;return t.$$set=t=>{"zDomain"in t&&e(0,r=t.zDomain),"zRange"in t&&e(1,i=t.zRange),"formatPercent"in t&&e(2,o=t.formatPercent)},[r,i,o]}class Wo extends et{constructor(t){super(),nt(this,t,Oo,Fo,o,{zDomain:0,zRange:1,formatPercent:2})}}function Bo(t,n,e){const r=t.slice();return r[14]=n[e][0],r[15]=n[e][1],r}function qo(t){let n,e,r;function i(n){t[10](n)}let o={};return void 0!==t[3]&&(o.hovered=t[3]),n=new No({props:o}),E.push((()=>function(t,n,e){const r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}(n,"hovered",i))),{c(){K(n.$$.fragment)},m(t,e){Z(n,t,e),r=!0},p(t,r){const i={};var o;!e&&8&r&&(e=!0,i.hovered=t[3],o=()=>e=!1,F.push(o)),n.$set(i)},i(t){r||(X(n.$$.fragment,t),r=!0)},o(t){J(n.$$.fragment,t),r=!1},d(t){Q(n,t)}}}function jo(t){let n,e;return n=new ge({props:{$$slots:{default:[qo]},$$scope:{ctx:t}}}),{c(){K(n.$$.fragment)},m(t,r){Z(n,t,r),e=!0},p(t,e){const r={};262152&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(X(n.$$.fragment,t),e=!0)},o(t){J(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function Go(t){let n,e,r,i,o,a,s,l=t[14]+"";return a=new se({props:{padding:{top:0,right:0,bottom:0,left:0},x:Vo,z:Jo,r:Xo,rScale:ei(),rDomain:[0,Re(me,Ko)],rRange:[1,40],zScale:ri(),zDomain:t[8],zRange:t[9],data:t[15],$$slots:{default:[jo]},$$scope:{ctx:t}}}),{c(){n=v("div"),e=v("div"),r=b(l),i=w(),o=v("div"),K(a.$$.fragment),$(e,"class","title svelte-1x6ne19"),$(o,"class","chart svelte-1x6ne19"),$(n,"class","chart-container svelte-1x6ne19")},m(t,l){m(t,n,l),g(n,e),g(e,r),g(n,i),g(n,o),Z(a,o,null),s=!0},p(t,n){const e={};262152&n&&(e.$$scope={dirty:n,ctx:t}),a.$set(e)},i(t){s||(X(a.$$.fragment,t),s=!0)},o(t){J(a.$$.fragment,t),s=!1},d(t){t&&p(n),Q(a)}}}function Uo(t){let n,e;return n=new zo({props:{w:t[0],h:t[1],container:t[2],hovered:t[3],formatPercent:t[7],formatDollars:t[5]}}),{c(){K(n.$$.fragment)},m(t,r){Z(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.w=t[0]),2&e&&(r.h=t[1]),4&e&&(r.container=t[2]),8&e&&(r.hovered=t[3]),n.$set(r)},i(t){e||(X(n.$$.fragment,t),e=!0)},o(t){J(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function Yo(t){let n,e,r,i,o,a,s,l,c,u;o=new Wo({props:{zDomain:t[8],zRange:t[9],formatPercent:t[6]}});let h=[...t[4]],f=[];for(let n=0;n<h.length;n+=1)f[n]=Go(Bo(t,h,n));const d=t=>J(f[t],1,1,(()=>{f[t]=null}));let x=t[2]&&Uo(t);return{c(){n=v("main"),e=v("div"),r=v("div"),r.textContent="Change in budget from previous year",i=w(),K(o.$$.fragment),a=w(),s=v("div");for(let t=0;t<f.length;t+=1)f[t].c();l=w(),x&&x.c(),$(r,"class","legend-title svelte-1x6ne19"),$(e,"class","key svelte-1x6ne19"),$(s,"class","grid svelte-1x6ne19"),O((()=>t[11].call(s))),$(n,"class","svelte-1x6ne19")},m(h,d){m(h,n,d),g(n,e),g(e,r),g(e,i),Z(o,e,null),g(n,a),g(n,s);for(let t=0;t<f.length;t+=1)f[t].m(s,null);g(s,l),x&&x.m(s,null),c=S(s,t[11].bind(s)),t[12](s),u=!0},p(t,[n]){if(792&n){let e;for(h=[...t[4]],e=0;e<h.length;e+=1){const r=Bo(t,h,e);f[e]?(f[e].p(r,n),X(f[e],1)):(f[e]=Go(r),f[e].c(),X(f[e],1),f[e].m(s,l))}for(Y(),e=h.length;e<f.length;e+=1)d(e);V()}t[2]?x?(x.p(t,n),4&n&&X(x,1)):(x=Uo(t),x.c(),X(x,1),x.m(s,null)):x&&(Y(),J(x,1,1,(()=>{x=null})),V())},i(t){if(!u){X(o.$$.fragment,t);for(let t=0;t<h.length;t+=1)X(f[t]);X(x),u=!0}},o(t){J(o.$$.fragment,t),f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)J(f[t]);J(x),u=!1},d(e){e&&p(n),Q(o),y(f,e),x&&x.d(),c(),t[12](null)}}}let Vo="change",Xo="2022",Jo="change";const Ko=t=>t[2022];function Zo(t,n,e){let r,i,o,a;const s=Ce(me,(t=>t.organization_group));const l=jr(".0%"),c=jr(".1%"),u=ii[7];return[r,i,o,a,s,function(t){return jr("$0.3s")(t).replace(/G/,"B").toLowerCase()},l,c,[-.25,-.1,0,.1,.25,.5],u,function(t){a=t,e(3,a)},function(){r=this.clientWidth,i=this.clientHeight,e(0,r),e(1,i)},function(t){E[t?"unshift":"push"]((()=>{o=t,e(2,o)}))}]}return new class extends et{constructor(t){super(),nt(this,t,Zo,Yo,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
